{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\ud83c\udfe0 Home","text":""},{"location":"#pypsa-spice-pypsa-based-scenario-planning-and-integrated-capacity-expansion","title":"PyPSA-SPICE: PyPSA-based Scenario Planning and Integrated Capacity Expansion","text":"<p>Info</p> <p>If you are considering using this model builder, please reach out to us at modelling@agora-thinktanks.org. We would be happy to help you get started. If you encounter a bug, please create a new issue. For new ideas or feature requests, you can start a conversation in the discussions section of the repository.</p> <p>PyPSA-SPICE is an open-source model builder for assessing national mid/long-term energy scenarios using a least-cost, multi-sectoral optimization approach based on the PyPSA framework. It can be used to build models that represent one or more countries across multiple interconnected nodes linked by electricity transmission, and within each region, it models the integration of power, heat, and transport sectors. The model focuses on the power sector, which is represented with a high level of detail.</p> <p>The model workflow has been designed to be more accessible compared to other PyPSA-based models, though basic Python coding knowledge is required.</p> <p></p>"},{"location":"#key-features-of-pypsa-spice","title":"Key Features of PyPSA-SPICE","text":"<ul> <li>Assessment of national or regional long-term energy scenarios using a least-cost optimization approach based on the PyPSA framework.</li> <li>Co-optimization of generation, capacity, and interconnector expansion at hourly resolution.</li> <li>Power plants are represented at technology resolution, with user-defined clustering within technologies as needed.</li> <li>Straightforward model creation for new countries and/or regions defined by the user.</li> <li>Easy integration of custom data into the model.</li> <li>Several pre-defined custom constraints including energy independence, reserve margin, and must-run constraints on thermal generators.</li> <li>Flexible sectoral coverage: base power sector model can be complemented with industry and transport sectors for full energy system investigation.</li> <li>PyPSA-SPICE-Vis as a visual tool for easy visualization of model outputs.</li> <li>Extensive documentation to facilitate working with the model.</li> </ul>"},{"location":"#types-of-models-outside-the-scope-of-pypsa-spice","title":"Types of models outside the scope of PyPSA-SPICE","text":"<p>PyPSA-SPICE is not designed for modeling power or energy systems with very high geographic resolution, such as load flow modeling. Instead, it prioritizes ease of building country- or region-level models using manually provided custom data. For this reason, it is best suited for models with a maximum of 10\u201315 regional nodes.</p> <ul> <li>For higher geographic detail other open-source PyPSA-based frameworks can be used:</li> <li>PyPSA-Eur</li> <li> <p>PyPSA-meets-Earth</p> </li> <li> <p>PyPSA-SPICE requires total energy demand as an input and does not optimize total demand, modal shifts, or other demand-side dynamics.  </p> </li> </ul>"},{"location":"#studies-conducted-using-pypsa-spice","title":"Studies conducted using PyPSA-SPICE","text":"<p>Please refer to Publication to see the publications or studies using the PyPSA-SPICE model builder.</p>"},{"location":"#visualisation-of-pypsa-spice-results","title":"Visualisation of PyPSA-SPICE Results","text":"<p>To make it easy to visualise and compare scenario outputs, we provide an open-source library PyPSA-SPICE-Vis within the model builder.</p>"},{"location":"#citing-pypsa-spice","title":"Citing PyPSA-SPICE","text":"<p>Please use the citation below:</p> <ul> <li>Agora Think Tanks (2025): PyPSA-SPICE: PyPSA-based Scenario Planning and Integrated Capacity Expansion</li> </ul>"},{"location":"#contributing","title":"Contributing","text":"<p>We welcome contributions from anyone interested in improving this project. Please take a moment to review our Contributing Guide and Code of Conduct. If you have ideas, suggestions, or encounter any issues, feel free to open an issue or submit a pull request on GitHub.</p>"},{"location":"#maintained-by","title":"Maintained by","text":""},{"location":"#supported-by","title":"Supported by","text":""},{"location":"#license","title":"License","text":"<p>Copyright \u00a9 PyPSA-SPICE Developers</p> <p>PyPSA-SPICE is licensed under the open source GNU General Public License v2.0 or later with the following information:</p> <p>The documentation is licensed under CC-BY-4.0.</p> <p>The repository uses REUSE to expose the licenses of its files.</p>"},{"location":"contributing/code_of_conduct/","title":"Code of Conduct","text":""},{"location":"contributing/code_of_conduct/#to-be-updated","title":"To be updated","text":""},{"location":"contributing/contributing/","title":"Contributing","text":""},{"location":"contributing/contributing/#to-be-updated","title":"To be updated","text":""},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#installation","title":"Installation","text":""},{"location":"getting-started/installation/#clone-the-repository","title":"Clone the Repository","text":"<p>First, clone the PyPSA-SPICE repository using the Git version control system. Important: the path to the directory where the repository is cloned must not contain any spaces.</p> <p>If Git is not installed on your system, please follow the Git installation instructions.</p> Cloning the repository<pre><code>git clone https://github.com/agoenergy/pypsa-spice.git\ncd pypsa-spice\n</code></pre>"},{"location":"getting-started/installation/#install-python-dependencies","title":"Install Python Dependencies","text":"<p>PyPSA-SPICE needs a set of Python packages to function. We recommend using Conda, a package and environment management system, to handle these dependencies.</p> <p>Start by installing Miniconda, a lightweight version of Anaconda that includes only Conda and its core dependencies. If you already have Conda installed, you can skip this step. For installation instructions tailored to your operating system, refer to the official Conda installation guide.</p> <p>Once Conda is installed, we recommend installing Mamba, a fast drop-in replacement for Conda that significantly speeds up environment installation. According to the official mamba documentation, the recommended way to install it is via Miniforge3, a minimal Conda installer bundled with Mamba.</p> <p>Installation steps for Miniforge3 vary depending on your operating system. You can find platform-specific instructions in the official Miniforge guide.</p> <p>For example, if you\u2019re using Linux system, you can install Miniforge3 by running the following command outside the PyPSA-SPICE folder and following the prompts:</p> Installing Miniforge3 on Linux<pre><code>cd ..\ncurl -L -O \"https://github.com/conda-forge/miniforge/releases/latest/download/Miniforge3-Linux-x86_64.sh\"\nbash Miniforge3-$ Miniforge3-Linux-x86_64.sh\n</code></pre> <p>You can switch to any other directory outside the folder you cloned PyPSA-SPICE.</p> <p>Important Notes:</p> <ol> <li>Mambaforge is deprecated as of July 2024 and was officially retired after January 2025. For this reason, we recommend using Miniforge3 instead.</li> <li>Install Miniforge3 or mamba packages only in the base Conda environment. Installing them in other environments may lead to compatibility issues or unexpected errors.</li> <li>Miniforge3 and Mambaforge use different environment paths. If you switch from one to the other, you will need to recreate all Conda environments, as they are not shared between the two setups.</li> </ol> <p>The required Python packages for PyPSA-SPICE are listed in the <code>environment.yaml</code> (via conda or mamba) and <code>requirements.txt</code> (via pip). You can create and activate the environment (which is called <code>pypsa-spice</code>) using the following commands:</p> Installing and activating the virtual environment<pre><code>mamba env create -f envs/environment.yaml\nconda activate pypsa-spice\n</code></pre> <p>Note that the environment activation is local to the currently open terminal session. If you open a new terminal window, you will need to re-run the activation command.</p>"},{"location":"getting-started/installation/#install-a-solver","title":"Install a Solver","text":"<p>Th network model created in PyPSA-SPICE model builder is passed to an external solver to perform total annual system cost minimization and obtain optimal power flows. PyPSA-SPICE is compatible with several solvers that can be installed via Python. In our default environment, Gurobi and HiGHs solvers are installed (packages installed not licenses). Below is a list of supported solvers along with links to their official installation guides for different operating systems:</p> Solver License type Installation guide Ipopt Free &amp; open-source Ipopt Cbc Free &amp; open-source Cbc GLPK Free &amp; open-source GLPK /WinGLPK HiGHs Free &amp; open-source highspy Gurobi commercial gurobipy CPLEX commercial CPLEX FICO\u00ae Xpress Solver commercial FICO\u00ae Xpress Solver <p>Commercial solvers such as Gurobi currently significantly outperform open-source solvers for large-scale problems. In some cases, using a commercial solver may be necessary to obtain a feasible solution. However, open-source solvers are being improved recently, and some of them already perform very well for small to medium-sized problems. Please check the solver benchmarking results to compare their performance.</p> on Mac or Linuxon Windows <pre><code>conda activate pypsa-spice\nconda install -c conda-forge ipopt coincbc\n</code></pre> <pre><code>conda activate pypsa-spice\nconda install -c conda-forge ipopt glpk\n</code></pre> <p>On Windows, new versions of <code>ipopt</code> have caused problems. Consider downgrading to version 3.11.1.</p>"},{"location":"getting-started/installation/#set-up-the-default-configuration","title":"Set up the Default Configuration","text":"<p>PyPSA-SPICE requires two configuration files:</p> <ol> <li> <p><code>base_config.yaml</code>: Located in the project root directory, this file contains general configurations needed to set up the initial input data structure.</p> </li> <li> <p><code>scenario_config.yaml</code>: Located inside each scenario folder, this file contains scenario-specific configurations. It is only used after the input data structure has been created.</p> </li> </ol> <p>To get started, configure <code>base_config.yaml</code> first, then run the data setup process. Once complete, you can configure individual scenarios using their respective <code>scenario_config.yaml</code> files. For detailed configuration options, refer to model-builder-configuration.</p>"},{"location":"getting-started/installation/#quick-execution-of-the-model-builder-using-template-data","title":"Quick Execution of the Model Builder using Template Data","text":"<p>To have a first glance of how the model builder works, template data in <code>data/pypsa-spice-data</code> folder can be used. You can run the entire workflow with the following command:</p> Running the entire workflow using this single command<pre><code>snakemake -j1 -c4 solve_all_networks # (1)!\n</code></pre> <ol> <li><code>-j1</code> means running only 1 job in parallel at a time and <code>-c4</code> means allowing each job to use up to 4 CPU threads.</li> </ol> <p>or</p> Running the entire workflow using this call command<pre><code>snakemake -call\n</code></pre> <p>For more information, please refer to the Snakemake documentation to adjust the cores and threads to use.</p>"},{"location":"getting-started/overview/","title":"Overview","text":""},{"location":"getting-started/overview/#overview-of-workflow","title":"Overview of workflow","text":"<p>The diagram below outlines the process for preparing and entering input data, running the model, and performing post-analysis along with visualization. The following sections provide additional details and guidance for each step.</p> <p> </p> <p>Info</p> <p>If you are considering using this model builder, please reach out to us at edm-training@agora-thinktanks.org. We would be happy to help you get started. If you encounter a bug, please create a new issue. For new ideas or feature requests, you can start a conversation in the discussions section of the repository.</p> <p>1. Build skeleton: This is the initial step where you define the scope and resolution of the model and run a script to generate empty data files. At this stage, it is important to specify the regions must be included in the model</p> <p>2. Fill data: Use the generated empty CSV files to input your custom data. You can also create multiple scenarios with distinct data and conditions. We recommend maintaining a separate repository for storing and modifying your input data.</p> <p>3. Run model: Execute the model with your defined scenarios via the command line.</p> <p>4. Analyse results: Evaluate the model output using either Jupyter Notebook or locally run interactive app we provide - PyPSA-SPICE-Vis.</p>"},{"location":"getting-started/input-data/global_csv_template/","title":"Global CSV Template","text":""},{"location":"getting-started/input-data/global_csv_template/#input-data-global-csv-template","title":"Input Data: Global CSV Template","text":"<p>Global csvs contain parameters that are typically kept constant accross scenarios. This is to maintain comparability of the scenarios. <code>global_input_template</code> folder is used for creating skeletons purposes, and thus it can be considered as hidden folder inside the template.</p> Structure of the global CSV template files<pre><code>\ud83d\udce6 data\n \u2517 \ud83d\udcc2 global_input_template\n \u2517 \ud83d\udcc2 pypsa-spice-data\n    \u2517 \ud83d\udcc2 project_01\n       \u2517 \ud83d\udcc2 input\n         \u2517 \ud83d\udcc2 global_input\n           \u2523 \ud83d\udcdc availability.csv\n           \u2523 \ud83d\udcdc demand_profile.csv\n           \u2523 \ud83d\udcdc ev_parameters.csv\n           \u2523 \ud83d\udcdc power_plant_costs.csv\n           \u2523 \ud83d\udcdc renewables_technical_potential.csv\n           \u2523 \ud83d\udcdc storage_costs.csv\n           \u2523 \ud83d\udcdc storage_inflows.csv\n           \u2517 \ud83d\udcdc technologies.csv\n</code></pre> <p>Tip</p> <p>The currency of all example data is <code>USD</code> defined in the <code>base_configs</code> section of <code>base_config.yaml</code>. You can refer to Model Builder Configuration for more information.</p>"},{"location":"getting-started/input-data/global_csv_template/#availability","title":"Availability","text":"<p><code>availability.csv</code> contains time-series availability data, mainly for renewable plants. By default, availability is matched using renewables type (e.g., solar photovoltaic (<code>PHOT</code>), onshore wind (<code>WTON</code>), etc.) and their locations (e.g., region <code>XY_NO</code> in country <code>XY</code>, region <code>YZ_SO</code> in country <code>YZ</code>).</p> <p>If a technology shares the same profile across the country (e.g., electric vehicle charger public (<code>EVCH-PUB</code>)), then both region and country fields use the same name (e.g., region <code>XY</code> in country <code>XY</code>). If the technology is listed and it requires availability profile, but the profile is not in this csv, then it will be defined as constant 1 for all hours.</p>"},{"location":"getting-started/input-data/global_csv_template/#demand-profile","title":"Demand Profile","text":"<p><code>demand_profile.csv</code> stores normalized hourly load profiles, which are scaled using total annual load values of each year to create time-series demand data.</p> <p>By default, Load profiles are matched based on:</p> <ul> <li>Profile type and location for power sector loads such as wholesale market load (<code>HV_LOAD</code>) and building load (<code>LV_LOAD</code>).</li> <li>Profile type only for all other loads.</li> </ul> <p>To add new load profiles (e.g., for a new project or country), insert a new row.</p>"},{"location":"getting-started/input-data/global_csv_template/#ev-parameters","title":"EV Parameters","text":"<p><code>ev_parameters.csv</code> stores the technical parameters relevant to the electric vehicles.</p>"},{"location":"getting-started/input-data/global_csv_template/#power-plant-costs","title":"Power Plant Costs","text":"<p><code>power_plant_costs.csv</code> defines cost data for all technologies in each country. It includes:</p> <ul> <li>Capital expenditure (CAPEX) in USD/MW (currency based on input data)</li> <li>Fixed operation and maintenance cost (FOM) in USD/MW (currency based on input data)</li> <li>Variable operation and maintenance cost (VOM) in USD/MWh (currency based on input data)</li> </ul> <p>Note: Currencies may vary depending on the source data.</p> <p>This data applies to generators, storage, converters, and storage capacity expansion (In case of lithium battery, it refers to inverter costs).</p>"},{"location":"getting-started/input-data/global_csv_template/#renewables-technical-potential","title":"Renewables Technical Potential","text":"<p><code>renewables_technical_potential.csv</code> defines maximum expansion limits (technical potential or land-use limits) for renewable technologies. It is currently only applied to solar photovoltaic (<code>PHOT</code>), hydro run-of-river (<code>HROR</code>), onshore wind (<code>WTON</code>), offshore wind (<code>WTOF</code>), rooftop PV (<code>RTPV</code>), solar hot water heater (<code>SWHT</code>) but can be modified to apply for other technologies.</p> <p>The model builder does not allow higher expansion than what are specified in this CSV file. You can expand the file to include other technologies if needed.</p>"},{"location":"getting-started/input-data/global_csv_template/#storage-costs","title":"Storage Costs","text":"<p><code>storage_costs.csv</code> covers the cost structure for all storage tanks (storage volume or energy capacity) in each country. It includes:</p> <ul> <li>Capital expenditure (CAPEX) in USD/MW (currency based on input data)</li> <li>Fixed operation and maintenance cost (FOM) in USD/MW (currency based on input data)</li> <li>Variable operation and maintenance cost (VOM) in USD/MWh (currency based on input data)</li> </ul> <p>Note: Currencies may vary depending on the source data.</p>"},{"location":"getting-started/input-data/global_csv_template/#storage-inflows","title":"Storage Inflows","text":"<p><code>storage_inflows.csv</code> provides time-series inflow data [MW] for <code>StorageUnit</code> components. Inflow profiles are only designed for reservoir-based systems like hydropower and hydro pumped storage.</p> <p>Matching the inflows is based on the technology (hydro dam (<code>HDAM</code>) and/or hydro pumped storage (<code>HPHS</code>)) and their location (e.g., region <code>XY_NO</code> in country <code>XY</code>). If the technology is listed and it requires inflow profile, but the profile is not in this csv, then it will be defined as constant 0 for all hours.</p>"},{"location":"getting-started/input-data/global_csv_template/#technologies","title":"Technologies","text":"<p>technologies.csv defines typical technical parameters for each technology used in the model builder. It provides values like efficiency, ramp limits, and availability of various technologies. To add a new technology, insert a new row and fill in all required parameters.</p> <p>Description of all technical parameters:</p> Parameter definition <code>country</code> 2-letter country codes according to ISO 3166 format <code>technology</code> Abbreviations of the technology <code>technology_nomenclature</code> Full names of the technology <code>carrier</code> Resources used by the technologies <code>class</code> Component class as defined in PyPSA <code>efficiency</code> Energy conversion efficiency from primary energy to electricity for <code>Generators</code>, and to another form of energy for <code>Links</code>. For <code>StorageUnits</code>, this is the discharge efficiency. <code>efficiency2</code> Positive values represent emission factor and negative values correspond to the efficiency of generating the second product in a plant <code>efficiency3</code> Carbon capture efficiency (for CCS technologies) <code>efficiency_store</code> Efficiency of charging energy into storage <code>max_hours</code> Maximum charge duration in hours (total storage volume / capacity) <code>cyclic_state_of_charge</code> If True, the final state of charge equals the initial state of charge <code>state_of_charge_initial</code> Initial state of charge in MWh before the snapshots in the optimal Power Flow (MWh) <code>p_max_pu</code> The maximum availability per snapshot per unit of <code>p_nom</code> <code>p_min_pu</code> The minimum availability per snapshot per unit of <code>p_nom</code> <code>ramp_limit_down</code> Maximum active power decrease from one snapshot to the next (per unit) <code>ramp_limit_up</code> Maximum active power increase from one snapshot to the next (per unit) <code>standing_loss</code> Hourly energy loss from storage <code>r_rating</code> Contribution of reserve rating (if used)"},{"location":"getting-started/input-data/model-builder-configuration/","title":"Configuration","text":""},{"location":"getting-started/input-data/model-builder-configuration/#input-data-model-builder-configuration","title":"Input Data: Model Builder Configuration","text":"<p>PyPSA-SPICE requires two configuration files:</p> <ol> <li> <p><code>base_config.yaml</code>: Located in the project root directory, this file contains general configurations needed to set up the initial input data structure.</p> </li> <li> <p><code>scenario_config.yaml</code>: Located inside each scenario folder, this file contains scenario-specific configurations. It is only used after the input data structure has been created.</p> </li> </ol> <p>To get started, configure <code>base_config.yaml</code> first, then run the data setup process. Once complete, you can configure individual scenarios using their respective <code>scenario_config.yaml</code> files.</p>"},{"location":"getting-started/input-data/model-builder-configuration/#base_configyaml","title":"base_config.yaml","text":"Path configurations<pre><code>path_configs: \n  data_folder_name: pypsa-spice-data #(1)!\n  project_name: project_01 #(2)!\n  input_scenario_name: scenario_01 # (3)!\n  output_scenario_name: scenario_01_tag1 # (4)!\n</code></pre> <ol> <li>Directory containing all scenario data. Inside this folder, subfolders for <code>project_name</code> and <code>input_scenario_name</code> will be created.</li> <li>Directory for project-related data, including the <code>input_scenario_name</code> folder.</li> <li>Directory for storing scenario input CSVs.</li> <li>Directory for storing scenario output CSVs.</li> </ol> <p>The path for the skeleton folder follows the pattern: <code>data_folder_name</code>/<code>project_name</code>/input/<code>input_scenario_name</code>. The path for the output folder follows the pattern: <code>data_folder_name</code>/<code>project_name</code>/results/<code>output_scenario_name</code>.</p> <p>This config file is used for both creating a new model via <code>snakemake -c1 build_skeleton</code> (see the section on defining a new model) and used for running different instances of the model.</p> <p>Tip</p> <p>Make sure your snakemake file points to correct config file. To run different scenarios, you just need to change the snakemake file to the corresponding scenario config file.</p> Base configurations<pre><code>base_configs:\n  regions: # (1)!\n    XY: [\"NR\",\"CE\", \"SO\"] \n    YZ: [\"NR\",\"CE\", \"SO\"] \n  years: [2025, 2030, 2035, 2040, 2045, 2050] # (2)!\n  sector: [\"p-i-t\"] # (3)!\n  currency: USD # (4)!\n</code></pre> <ol> <li>List of regions or nodes within each country. This defines the network\u2019s nodal structure. The country list contains 2-letter country codes according to ISO 3166.</li> <li>List of years to be executed in the model builder.</li> <li>List of sectors to include in model run. The power sector (<code>p</code>) needs to be included. Other available options are <code>p-i</code>, <code>p-t</code>, <code>p-i-t</code>, representing industry (<code>i</code>), and transport (<code>t</code>) sectors coupled with the power sector.</li> <li>Currency usd in the model. The default setting is USD (also used in example data). Format shall be in all uppercases, ISO4217 format.</li> </ol>"},{"location":"getting-started/input-data/model-builder-configuration/#scenario_configyaml-scenario-settings","title":"scenario_config.yaml - scenario settings","text":"Scenario configurations<pre><code>scenario_configs:\n  snapshots: # (1)!\n    start: \"2025-01-01\"\n    end: \"2026-01-01\" # (2)!\n    inclusive: \"left\" # (3)!\n  resolution:\n    method: \"nth_hour\" # (4)!\n    number_of_days: 3 # (5)!\n    stepsize: 25 # (6)!\n  interest: 0.05  # (7)!\n  remove_threshold: 0.1 # (8)!\n</code></pre> <ol> <li>Defines the start and end dates for the model\u2019s time period. Dates are in \"YYYY-MM-DD\" format.</li> <li>The model performs optimization on a yearly basis, with each modeling year defined as 8760 hours for hourly resolution. If the selected base year is a leap year, it is recommended to set the end date to <code>-12-31</code> of that year.</li> <li>Defines which side of the selected snapshot should be included in the model builder. In the given example, if this parameter is set to <code>left</code>, the zeroth hour of the start time snapshot i.e. <code>2025-01-01 00:00</code> will be included in the model while the <code>2026-01-01 00:00</code> will not be included. We recommend to leave this as is.</li> <li>Determines the method used by the model to deal with the time steps. For testing this reduces the compute time. Available options are <code>nth_hour</code> (recommended) and <code>clustered</code>. Depending on the selected option, one other parameter in the <code>resolution</code> section should be set.</li> <li>If <code>method = \"clustered\"</code>, the number of representative days should be provided to group time steps and form the model builder timestamps. For example, if <code>number_of_days: 3</code>, the model builder will only solve 72 hours in the entire year.</li> <li>This is used when <code>method = \"nth_hour\"</code>. In this case, the model builder will run at every n-th hour. Typical value to use for this would be 25, so every 25th hour is included in the model. To run the model at hourly resolution (the highest temporal resolution in the model builder), then it needs to be set to 1.</li> <li>Interest rate in decimal form (e.g., 0.05 represents 5%).</li> <li>Removes non expandable assets with a capacity below this threshold (in MW) to avoid numerical issues during optimization.</li> </ol>"},{"location":"getting-started/input-data/model-builder-configuration/#scenario_configyaml-mandatory-constraints","title":"scenario_config.yaml - mandatory constraints","text":"<p>The CO<sub>2</sub> management is the most important and mandatory constraint in the model. The model allows for two different instruments to decrease CO<sub>2</sub> emissions: CO<sub>2</sub> price or CO<sub>2</sub> constraint. You can choose between each of these but not both. The variables listed below should be filled out for each country individually.</p> Constraints for CO<sub>2</sub> management<pre><code>co2_management: # (1)!\n  XY:\n    option: \"co2_cap\" # (2)!\n    value:\n      2025: 100\n      2030: 90\n      2035: 130\n      2040: 110\n      2045: 100\n      2050: 90\n  YZ:\n    option: \"co2_price\" # (3)!\n    value:\n      2025: 1\n      2030: 1\n      2035: 1\n      2040: 1\n      2045: 1\n      2050: 1\n</code></pre> <ol> <li>Please indicate country/region specific CO<sub>2</sub> management mode: <code>\"co2_cap\"</code> or <code>\"co2_price\"</code>.</li> <li>Goal is to minimize the CO<sub>2</sub> emissions in each year and target values are given in mtCO<sub>2</sub>.</li> <li>Goal is to minimize the emission price (<code>\"co2_price\"</code>) in the system and target values are in $/tCO<sub>2</sub>.</li> </ol> <p>Tip</p> <p>If you don't want to use any CO<sub>2</sub> constraint, default to using <code>co2_price</code> with very small value for the years.  </p>"},{"location":"getting-started/input-data/model-builder-configuration/#scenario_configyaml-custom-constraints","title":"scenario_config.yaml - custom constraints","text":"<p>The custom constraints section allows you to apply additional rules or limits to the model\u2019s behavior, tailoring it to specific scenario requirements. All custom constraints are listed below in the two countries as an example. These constraints can control various aspects of the model, such as renewable generation share, thermal power plant operation, reserve margins, energy independence, and production limitations. By adjusting these settings, you can implement assumptions or policies. The settings listed below should be configured for each country individually.</p> <p>Note</p> <p>By default these are not included, so if you need a custom constraint, the corresponding part needs to be included in your scenario config file.</p> Custom constraints<pre><code>custom_constraints:\n  XY:\n    energy_independence: # (1)!\n      pe_conv_fraction: # (2)!\n        Solar: 1\n        Wind: 1\n        Geothermal: 1\n        Water: 1\n      ei_fraction: # (3)!\n        2025: 0.3\n        2030: 0.4\n        2035: 0.5\n        2040: 0.6\n        2045: 0.7\n        2050: 0.8\n    production_constraint_fuels: [\"Bio\", \"Bit\", \"Gas\", \"Oil\"] # (4)!\n    reserve_margin: # (5)!\n      epsilon_load: 0.1 # (6)!\n      epsilon_vre: 0.1 # (7)!\n      contingency: 1000 # (8)!\n      method: static # (9)!\n    res_generation: # (10)!\n      math_symbol: \"&lt;=\" # (11)!\n      res_generation_share: # (12)!\n        2030: 0.25\n        2035: 0.35\n        2040: 0.4\n        2045: 0.45\n        2050: 0.5\n    thermal_must_run: # (13)!\n      must_run_frac: 0.2 # (14)!\n  YZ:\n    capacity_factor_constraint: # (15)!\n      \"SubC\": 0.6\n      \"SupC\": 0.6\n      \"HDAM\": 0.4\n    production_constraint_fuels: [\"Bio\", \"Bit\", \"Gas\", \"Oil\"]\n    res_generation: \n      math_symbol: \"&lt;=\"\n      res_generation_share:\n        2030: 0.1\n        2035: 0.2\n        2040: 0.3\n        2045: 0.3\n        2050: 0.3\n</code></pre> <ol> <li>The model adds constraints to ensure energy independence. This indicates how much of energy needs are met without relying on imports (by producing enough energy domestically). You can refer to Constraint - Energy Independence for more information.To deactivate it, you can exclude them in the <code>custom_constraints</code>, and the model will identify it as deactivated.</li> <li>Primary energy conversion factor (dimensionless) is used to convert electricity generation to <code>primary energy</code> to make renewables comparable to fossil at primary energy level. Different definitions can be used to arrive at the value of these.</li> <li>Minimum energy independence fraction defined as: $$ \\frac{\\textit{locally produced energy}}{\\textit{locally produced energy + imported energy}} $$ For details see <code>Energy Independence constraint</code> below.</li> <li>Maximum production limit of certain fuels can be defined here. Maximum values for these fuels are defined in <code>Power/fuel_supplies.csv</code>.To deactivate it, you can remove them in the <code>custom_constraints</code>, and the model will identify it as dectivated.</li> <li>The model adds reserve margin constraints based on <code>reserve_parameters</code>. See Constraint - Reserve Margin for more information.To deactivate it, you can exclude them in the <code>custom_constraints</code>, and the model will identify it as dectivated.</li> <li>Fraction of load considered as reserve.</li> <li>Contribution of Variable Renewable Energy (VRE) to the reserve.</li> <li>Extra contingency in MW. It is under <code>reserve_margin</code>. This is usually taken as a the size of largest individual power plants or defined by country specific regulations. </li> <li>Options: <code>static</code> (no VRE) or <code>dynamic</code> (includes VRE). See reserve margin definition below.</li> <li>The model adds a constraint on renewable generation as a fraction of total electricity demand.</li> <li>Defines the type of renewable constraint. If set to <code>&lt;=</code> it means the fraction of renewable generation from the total electricity demand should be less than or equal to the given values or greater than or equal to if value set to <code>=&gt;</code></li> <li>Fraction of renewable generation to the total electricity demand for each year.</li> <li>The model forces combined thermal power plants to have minimum generation level as a fraction of load.</li> <li>Fraction of thermal generation to the total electricity demand per snapshot providing the baseload.</li> <li>Maximum capacity factor of certain technologies can be defined here.To deactivate it, you can exclude them in the <code>custom_constraints</code>, and the model will identify it as dectivated.</li> </ol> <p>In the following two sub-sections, we provide more information about the definition of energy independence and reserve margin.</p>"},{"location":"getting-started/input-data/model-builder-configuration/#energy-independence-mathematical-formulation","title":"Energy Independence: Mathematical Formulation","text":"<p>This constraint forces the model to keep the ratio of locally produced power to the sum of locally produced power and imported power to be more than the minimum energy independence factor:</p> <p>locimp+loc\u2265\u03d5\u27f9(1\u2212\u03d5)\u22c5loc&gt;=\u03d5\u22c5imp \\frac{loc}{imp + loc} \\ge \\phi \\qquad \\Longrightarrow \\qquad (1 -\\phi) \\cdot loc &gt;= \\phi \\cdot imp imp+locloc\u200b\u2265\u03d5\u27f9(1\u2212\u03d5)\u22c5loc&gt;=\u03d5\u22c5imp</p> <p>Where</p> parameter description mathematical formulation impimpimp Imported power:  Generation from the theoretical import fuel-based generators \u2211f\u2208F\u2211t\u2208TGtTGEN\u2212f\u2212import\\sum_{f \\in F} \\sum_{t \\in T}{G_t^{TGEN-f-import}}\u2211f\u2208F\u200b\u2211t\u2208T\u200bGtTGEN\u2212f\u2212import\u200b loclocloc Local power generation: Fuel-based generations from local resources + renewable generations x primary energy conversion factor \u2211f\u2208F\u2211t\u2208TGtTGEN\u2212f\u2212local+\u03b1res\u2217\u2211tGres\\sum_{f \\in F} \\sum_{t \\in T} {G_t^{TGEN-f-local}} + \\alpha_{res}*\\sum_{t}G_{res}\u2211f\u2208F\u200b\u2211t\u2208T\u200bGtTGEN\u2212f\u2212local\u200b+\u03b1res\u200b\u2217\u2211t\u200bGres\u200b \u03d5\\phi\u03d5 minimum energy independence factor \u03b1res\\alpha_{res}\u03b1res\u200b Primary energy conversion factor used for renewable sources for electricity generation. This value can be 0-1 for renewables, or larger than 1 for other generation sources depending on the energy policy in the country."},{"location":"getting-started/input-data/model-builder-configuration/#reserve-margin-mathematical-formulation","title":"Reserve Margin: Mathematical Formulation","text":"<p>The reserve margin constraint in PyPSA-SPICE is modeled similarly to the GenX approach.</p> <p>\u2211grg,t\u2265\u03f5load\u22c5\u2211ndn,t+\u03f5vres\u22c5\u2211g\u2208GVRESg\u02c9g,t\u22c5Gg+contingency\u2200t \\sum_g r_{g,t} \\ge \\epsilon^{load} \\cdot \\sum_n d_{n,t} + \\epsilon^{vres} \\cdot \\sum_{g \\in \\mathcal{G}^{VRES}} \\bar g_{g,t} \\cdot G_g + {contingency} \\qquad \\forall t g\u2211\u200brg,t\u200b\u2265\u03f5load\u22c5n\u2211\u200bdn,t\u200b+\u03f5vres\u22c5g\u2208GVRES\u2211\u200bg\u02c9\u200bg,t\u200b\u22c5Gg\u200b+contingency\u2200t</p> <p>Where</p> parameter description rg,tr_{g,t}rg,t\u200b Reserve margin of generator <code>g</code> at time <code>t</code> \u03f5load\\epsilon^{load}\u03f5load Fraction of load considered for reserve dn,td_{n,t}dn,t\u200b Demand at node <code>n</code> and time <code>t</code> \u03f5vres\\epsilon^{vres}\u03f5vres Fraction of renewable energy for reserve g\u02c9g,t\\bar g_{g,t}g\u02c9\u200bg,t\u200b Forecasted capacity factor for renewable energy of generator <code>g</code> at time <code>t</code> GgG_gGg\u200b Capacity of generator <code>g</code> GVRES\\mathcal{G}^{VRES}GVRES Set of renewable generators in the system contingencycontingencycontingency Fixed contingency <p>See Linopy example of the reserve constraint implementation for more details.</p>"},{"location":"getting-started/input-data/model-builder-configuration/#scenario_configyaml-solver-settings","title":"scenario_config.yaml - solver settings","text":"<p>Solving the optimisation model builder requires a good solver to boost the performance. PyPSA-SPICE supports solvers such as <code>gurobi</code>, <code>cplex</code>, and <code>highs</code>. A comparison of solver performance is available in solver benchmarking results.</p> Solver configurations<pre><code>solving:\n  solver:\n    name: highs #(1)!\n    options: highs-default #(2)!\n  oetc: # (3)!\n    activate: false\n    name: test-agora-job\n    authentication_server_url: http://34.34.8.15:5050\n    orchestrator_server_url: http://34.34.8.15:5000\n    cpu_cores: 4\n    disk_space_gb: 20\n    delete_worker_on_error: false\n  solver_options: #(4)!\n    default: {}\n    cbc-default:\n      threads: 8 #(5)!\n      cuts: 0 #(6)!\n      maxsol: 1 #(7)!\n      ratio: 0.1 #(8)!\n      presolve: 1 #(9)!\n      time_limit: 3600 #(10)!\n    gurobi-default:\n      threads: 8 #(11)!\n      method: 2 #(12)!\n      crossover: 0 #(13)!\n      BarConvTol: 1.e-5 #(14)!\n      AggFill: 0 #(15)!\n      PreDual: 0 #(16)!\n      GURO_PAR_BARDENSETHRESH: 200 #(17)!\n    gurobi-numeric-focus:\n      name: gurobi\n      NumericFocus: 3 #(18)!\n      method: 2 #(19)!\n      crossover: 0 #(20)!\n      BarHomogeneous: 1 #(21)!\n      BarConvTol: 1.e-5 #(22)!\n      FeasibilityTol: 1.e-4 #(23)!\n      OptimalityTol: 1.e-4 #(24)!\n      ObjScale: -0.5 #(25)!\n      threads: 8 #(26)!\n      Seed: 123 #(27)!\n    cplex-default:\n      threads: 4 #(28)!\n      lpmethod: 4 #(29)!\n      solutiontype: 2 #(30)!\n      barrier_convergetol: 1.e-5 #(31)!\n      feasopt_tolerance: 1.e-6\n    highs-default: #(32)!\n      threads: 4 #(33)!\n      solver: \"ipm\"\n      run_crossover: \"off\"\n      small_matrix_value: 1e-6 #(34)!\n      large_matrix_value: 1e9 #(35)!\n      primal_feasibility_tolerance: 1e-5 #(36)!\n      dual_feasibility_tolerance: 1e-5 #(37)!\n      ipm_optimality_tolerance: 1e-4 #(38)!\n      parallel: \"on\"\n      random_seed: 123 #(39)!\n    highs-simplex:\n      solver: \"simplex\"\n      parallel: \"on\"\n      primal_feasibility_tolerance: 1e-5 #(40)!\n      dual_feasibility_tolerance: 1e-5 #(41)!\n      random_seed: 123 #(42)!\n</code></pre> <ol> <li>Compatible solvers are <code>gurobi</code>, <code>cplex</code>, <code>cbc</code>, and <code>highs</code>.</li> <li>Depending on the selected solver, specify one of the corresponding options: <code>cbc-default</code>, <code>gurobi-default</code>, <code>gurobi-numeric-focus</code>, <code>cplex-default</code>, <code>highs-default</code>, or <code>highs-simplex</code>.</li> <li><code>oetc</code> is a colud computing service provided by Open Energy Trainsition Organization. To access and activate the service. Please reach out to us for more details.</li> <li>Solver options can be adjusted in the following list. If no value is provided in the <code>solver/option</code> section, the default <code>solver_options</code>, which is empty, will be considered.</li> <li>Number of CPU threads to be used by the solver for parallel computation to speed up solving time.</li> <li>Cutting planes are typically used to tighten the problem and improve performance (usually beneficial in MIP problems). By disabling them solution will be obtained faster but potentially at the cost of optimality.</li> <li>Limits the solver to finding only one solution. The solver will stop once it finds a feasible solution (instead of finding all solutions).</li> <li>Specifies that the solver should stop if it finds a solution within 10% of the best possible bound. This is useful for faster solutions when absolute optimality is not required.</li> <li>Enabling <code>presolve</code> simplifies the problem before starting the optimization to make it faster and more stable.</li> <li>Sets a time limit for the solver (here 3600 seconds = 1 hour). The solver will stop if it exceeds this limit.</li> <li>Number of CPU threads to be used by the solver for parallel computation to speed up solving time.</li> <li>Algorithm used to solve continuous models or the initial root relaxation of a MIP model. <code>-1</code> chooses the algorithm automatically and other options are explained in Gurobi documentation for more information.</li> <li>Barrier crossover strategy. <code>-1</code> chooses strategy automatically and <code>0</code> disables crossover, which will speed up the solution process but might reduce solution quality. Other options are explained in Gurobi documentation.</li> <li>The barrier solver terminates when the relative difference between the primal and dual objective values is less than the specified tolerance. This parameter is in <code>[0, 1]</code> range and the default value is <code>1e-8</code>.</li> <li>A parameter that controls the amount of fill allowed during the aggregation phase of presolve. <code>AggFill</code> determines how aggressively Gurobi merges constraints during aggregation. Higher values can potentially lead to more simplification but may also introduce numerical instability. <code>-1</code> chooses aggregation fill automatically and <code>0</code> disables it.</li> <li>Determines whether the solver should dualize the problem during the presolve phase. Depending on the structure of the model, solving the dual can reduce overall solution time. The default setting (<code>-1</code>) decides about it automatically. Setting <code>0</code> forbids presolve from forming the dual, while setting <code>1</code> forces it to take the dual.</li> <li>Sets the threshold for determining when a column in the constraint matrix is considered dense during barrier optimization. When the constraint matrix is dense, it means its non-zero elements are more than the <code>GURO_PAR_BARDENSETHRESH</code> value.</li> <li>With higher values, the model will spend more time checking the numerical accuracy of intermediate results.</li> <li>Algorithm used to solve continuous models or the initial root relaxation of a MIP model. <code>-1</code> chooses the algorithm automatically and other options are explained in Gurobi documentation for more information.</li> <li>Barrier crossover strategy. <code>-1</code> chooses strategy automatically and <code>0</code> disables crossover, which will speed up the solution process but might reduce solution quality. Other options are explained in Gurobi documentation.</li> <li>Setting the parameter to <code>0</code> turns it off, and setting it to <code>1</code> forces it on. The homogeneous algorithm is useful for recognizing infeasibility or unboundedness and is a bit slower than the default algorithm.</li> <li>The barrier solver terminates when the relative difference between the primal and dual objective values is less than the specified tolerance. This parameter is in <code>[0, 1]</code> range and the default value is <code>1e-8</code>.</li> <li>All constraints must be satisfied to a tolerance of <code>FeasibilityTol</code>. This parameter is in <code>[1e-9, 1e-2]</code> range and the default value is <code>1e-6</code>.</li> <li>This parameter defines how close the solution needs to be to the best possible answer before the solver stops. It is in <code>[1e-9, 1e-2]</code> range and the default value is <code>1e-6</code>.</li> <li>Positive values: divides the objective by the specified value to avoid numerical issues that may result from very large or very small objective coefficients. Negative values: uses the maximum coefficient to the specified power as the scaling (so ObjScale=-0.5 would scale by the square root of the largest objective coefficient). Default: <code>0</code> which means the model decides on the scaling automatically.</li> <li>Number of CPU threads to be used by the solver for parallel computation to speed up solving time.</li> <li>Fixed <code>Seed</code> values must be set if you want to get the same results (i.e., reproducibility of the optimization process). The value does not matter.</li> <li>Number of CPU threads to be used by the solver for parallel computation to speed up solving time.</li> <li>This parameter changes the algorithm and accepts an integer from <code>0</code> to <code>6</code>, where <code>0</code> denotes automatic choice of the algorithm, <code>1</code> is for primal simplex, <code>2</code> is for dual simplex, and <code>4</code> is for barrier.</li> <li>Crossover can be turned off with <code>solutiontype=2</code> that instructs CPLEX not to seek a basic solution. This can be useful for a quick insight of the approx. optimal solution, if crossover takes long time.</li> <li>Sets the tolerance on complementarity for convergence. Values can be qny positive number greater than or equal to <code>1e-12</code>; default: <code>1e-8</code>.</li> <li>Please visit HiGHS documentation for complete list of options.</li> <li>Number of CPU threads to be used by the solver for parallel computation to speed up solving time.</li> <li>Values less than or equal to this will be treated as zero.</li> <li>Values greater than or equal to this will be treated as infinite.</li> <li>Range: <code>[1e-10, inf]</code>, default: <code>1e-07</code>.</li> <li>Range: <code>[1e-10, inf]</code>, default: <code>1e-07</code>.</li> <li>Range: <code>[1e-10, inf]</code>, default: <code>1e-07</code>.</li> <li>Fixed <code>random_seed</code> values must be set if you want to get the same results (i.e., reproducibility of the optimization process). The value does not matter.</li> <li>Range: <code>[1e-10, inf]</code>, default: <code>1e-07</code>.</li> <li>Range: <code>[1e-12, inf]</code>, default: <code>1e-08</code>.</li> <li>Fixed <code>random_seed</code> values must be set if you want to get the same results (i.e., reproducibility of the optimization process). The value does not matter.</li> </ol>"},{"location":"getting-started/input-data/model-builder-execution/","title":"Execution","text":""},{"location":"getting-started/input-data/model-builder-execution/#input-data-model-execution","title":"Input Data: Model Execution","text":"<p>The execution of the model is orchestrated using Snakemake, as defined in the project\u2019s <code>Snakefile</code> located in the root directory. Snakemake acts as the workflow engine, coordinating individual rules and chaining them into a single, automated execution process. This allows for scalable, parallel computation across multiple cores or threads.</p>"},{"location":"getting-started/input-data/model-builder-execution/#execution-of-snakemake-workflow","title":"Execution of Snakemake workflow","text":"<p>Below is a simplified representation, showing the workflow for the years 2025-2050 with the power sector only.</p> <p></p>"},{"location":"getting-started/input-data/model-builder-execution/#rules-and-functions","title":"Rules and Functions","text":"<p>The table below explains the main Snakemake rules and helper functions used in the PyPSA-SPICE workflow:</p> Name Type Description <code>add_baseyear</code> Snakemake rule First step of building up the model after input data preparation is done. This rule imports all input data in the base year into the model. The base year is defined in <code>config.yaml</code> (see new-model or model-builder-configuration). <code>add_brownfield</code> Snakemake rule Imports all output data from the previous year, using the <code>previous_year_outputs</code> and <code>solved_previous_year</code> functions. The definition of the different years is described in <code>config.yaml</code> (see new-model or model-builder-configuration). <code>make_summary</code> Snakemake rule Generates output CSVs and summary of a specific year. <code>combine_summaries</code> Snakemake rule Last step of the whole workflow aside from <code>solve_all_networks</code> rule. It generates summary of all years after all the networks from different years are solved. <code>solve_network</code> Snakemake rule Solves the model builder for a specific year. This rule is only triggered after either <code>add_baseyear</code> or <code>add_brownfield</code>. Optimization settings are defined in <code>config.yaml</code> (see model-builder-configuration). <code>solve_all_networks</code> Snakemake rule Executes the entire model builder workflow at once. <code>previous_year_outputs</code> Python Function Reads the output CSVs of the previous year. <code>solved_previous_year</code> Python Function Reads the network from the output of the previous year."},{"location":"getting-started/input-data/model-builder-execution/#running-the-model-builder","title":"Running the Model Builder","text":""},{"location":"getting-started/input-data/model-builder-execution/#run-the-entire-workflow-at-once","title":"Run the Entire Workflow at Once","text":"<p>To execute the entire workflow, modify the <code>configfile</code> parameter in the snakemake to point to your scenario <code>config_scenario.yaml</code> file. After this, you can run the whole workflow using:</p> Run the entire model builder workflow at once.<pre><code>snakemake -j1 -c4 solve_all_networks #(1)!\n</code></pre> <ol> <li><code>-j1</code> means running only 1 job in parallel at a time and <code>-c4</code> means allowing each job to use up to 4 CPU threads. See the Snakemake CLI documentation to customize cores, threads, and parallel execution.</li> </ol> <p>or</p> Running the entire model builder workflow using this call command<pre><code>snakemake -call\n</code></pre>"},{"location":"getting-started/input-data/model-builder-execution/#run-a-single-year","title":"Run a Single Year","text":"<p>If you want to run a specific year instead of running multiple years, You can do it using the following command:</p> Option 2: Run a single output file.<pre><code>snakemake -j1 -c4 post-solve/elec_{SECTOR}_{YEAR}.nc\n</code></pre> <p>Since a particular year run needs previous year outputs (except base year), snakemake will run the all the required worksflows to generate the output for specified year.</p>"},{"location":"getting-started/input-data/new-model/","title":"Defining a New Model","text":""},{"location":"getting-started/input-data/new-model/#input-data-define-a-new-model","title":"Input Data: Define a New Model","text":"<p>This section explains how to set up a new model for a particular country/region using the PyPSA-SPICE model builder. Once your model is step you can run the model as described in model execution.</p> <p>Steps of setting up a new model:</p> <ol> <li>Adjust the information inside <code>base_config.yaml</code>.</li> <li>Run <code>snakemake -c1 build_skeleton</code> to create a folder structure and template CSV files for your input data. All input folders and files shall be created inside the <code>data</code> folder after this command is executed.</li> <li>Fill in the skeleton CSVs with the required data manually or using available resources.</li> </ol> <p>An example structure created by <code>build_skeleton</code> is displayed below. The following sections will use this example to explain the settings.</p>"},{"location":"getting-started/input-data/new-model/#step-1-set-up-the-base-configuration-file","title":"Step 1: Set up the Base Configuration File","text":"<p>Setting up the base config requires defining the scope and resolution of the model. Specifically, defining which countries/regions will be represented in the model and for which year the model will be run. While it is possible to change these after initial model is created, it would require significant effort to add new regions/years in the input CSVs.  </p> <p>The <code>base_config.yaml</code> contains two parts which will be used both for folder structure building and model executions:</p> Init settings in the config.yaml file<pre><code>path_configs: #(1)!\n  data_folder_name: pypsa-spice-data\n  project_name: project_01\n  input_scenario_name: scenario_01 # (2)!\n  output_scenario_name: scenario_01_tag1 # (3)!\n\nbase_configs:\n  regions: \n    XY: [\"NR\",\"CE\", \"SO\"] # (4)!\n    YZ: [\"NR\",\"CE\", \"SO\"] \n  years: [2025, 2030, 2035, 2040, 2045, 2050] # (5)!\n  sector: [\"p-i-t\"] # (6)!\n</code></pre> <ol> <li>This section is for configuring directory structure for storing model inputs and results.</li> <li>A custom name you define for the input scenario folder in your model.</li> <li>A custom name you define for the output scenario folder to save your model results.</li> <li>List of regions or nodes within each country. This defines the network\u2019s nodal structure. The country list contains 2-letter country codes according to ISO 3166.</li> <li>Modelled years should be provided as a list.</li> <li>Options: [<code>p</code>, <code>p-i</code>, <code>p-t</code>, <code>p-i-t</code>], representing power (<code>p</code>), industry (<code>i</code>), and transport (<code>t</code>) sectors.</li> </ol> <p>The final skeleton folder path will follow this structure:: <code>data</code>/<code>data_folder_name</code>/<code>project_name</code>.</p> <p>By setting different <code>input_scenario_name</code> and country or regional settings in the <code>base_configs</code> section (see details in Model Configuration), a new skeleton structure under the same <code>data_folder_name</code> folder will be created.</p>"},{"location":"getting-started/input-data/new-model/#step-2-build-the-skeleton","title":"Step 2: Build the Skeleton","text":"<p>After modifying the configuration file, run the following command in your terminal.</p> Generating the skeleton folder<pre><code>snakemake -c1 build_skeleton\n</code></pre> <p>This step creates your skeleton folder and files which can be feed with your data.</p> Structure of Folder and files created by build skeleton script<pre><code>\ud83d\udce6 data\n \u2517 \ud83d\udcc2 pypsa-spice-data\n    \u2517 \ud83d\udcc2 project_01\n       \u2523 \ud83d\udcc2 input\n       \u2503 \u2523 \ud83d\udcc2 global_input\n       \u2503 \u2503 \u2523 \ud83d\udcdc availability.csv\n       \u2503 \u2503 \u2523 \ud83d\udcdc demand_profile.csv\n       \u2503 \u2503 \u2523 \ud83d\udcdc ev_parameters.csv\n       \u2503 \u2503 \u2523 \ud83d\udcdc power_plant_costs.csv\n       \u2503 \u2503 \u2523 \ud83d\udcdc renewables_technical_potential.csv\n       \u2503 \u2503 \u2523 \ud83d\udcdc storage_costs.csv\n       \u2503 \u2503 \u2523 \ud83d\udcdc storage_inflows.csv\n       \u2503 \u2503 \u2517 \ud83d\udcdc technologies.csv\n       \u2503 \u2517 \ud83d\udcc2 scenario_01\n       \u2503   \u2523 \ud83d\udcc2 industry\n       \u2503   \u2503 \u2523 \ud83d\udcdc buses.csv\n       \u2503   \u2503 \u2523 \ud83d\udcdc decommission_capacity.csv\n       \u2503   \u2503 \u2523 \ud83d\udcdc direct_air_capture.csv\n       \u2503   \u2503 \u2523 \ud83d\udcdc fuel_conversion.csv\n       \u2503   \u2503 \u2523 \ud83d\udcdc heat_generators.csv\n       \u2503   \u2503 \u2523 \ud83d\udcdc heat_links.csv\n       \u2503   \u2503 \u2523 \ud83d\udcdc loads.csv\n       \u2503   \u2503 \u2523 \ud83d\udcdc storage_capacity.csv\n       \u2503   \u2503 \u2517 \ud83d\udcdc storage_energy.csv\n       \u2503   \u2523 \ud83d\udcc2 power\n       \u2503   \u2503 \u2523 \ud83d\udcdc buses.csv\n       \u2503   \u2503 \u2523 \ud83d\udcdc decommission_capacity.csv\n       \u2503   \u2503 \u2523 \ud83d\udcdc fuel_suppliers.csv\n       \u2503   \u2503 \u2523 \ud83d\udcdc interconnector.csv\n       \u2503   \u2503 \u2523 \ud83d\udcdc loads.csv\n       \u2503   \u2503 \u2523 \ud83d\udcdc power_generators.csv\n       \u2503   \u2503 \u2523 \ud83d\udcdc storage_capacity.csv\n       \u2503   \u2503 \u2523 \ud83d\udcdc power_links.csv\n       \u2503   \u2503 \u2517 \ud83d\udcdc storage_energy.csv\n       \u2503   \u2523 \ud83d\udcc2 transport\n       \u2503   \u2503 \u2523 \ud83d\udcdc buses.csv\n       \u2503   \u2503 \u2523 \ud83d\udcdc loads.csv\n       \u2503   \u2503 \u2523 \ud83d\udcdc pev_chargers.csv\n       \u2503   \u2503 \u2517 \ud83d\udcdc pev_storages.csv\n       \u2503   \u2517 \ud83d\udcdc scenario_config.yaml\n       \u2517 \ud83d\udcc2 results (will be created when during the model execution)\n</code></pre> <p>Tip</p> <p>Once you\u2019ve created a skeleton data folder for one scenario, you can simply duplicate the scenario folder and rename the folder name to set up additional scenarios. However, we recommend doing this only after you\u2019ve completed filling in the data for the first one.  </p>"},{"location":"getting-started/input-data/new-model/#step-3-fill-in-the-skeleton-csvs","title":"Step 3: Fill in the Skeleton CSVs","text":"<p>Once a new skeleton folder is created, project-specific CSV templates will be setup. Each CSV will include placeholders marked with <code>Please fill here</code>. These need to be completed with relevant data so the model can perform more accurate optimizations.</p> <p>To help you fill these files:</p> <ul> <li>Check Global CSV Template for default  file descriptions of country-level data.</li> <li>See Regional CSV Template for detailed file descriptions of region-level data. Once all the necessary input data is provided, adjust model and solver settings in Model Configuration and follow Model Execution to understand the model logic and how to run the model.</li> </ul> <p>Tip</p> <p>By detault, the input structure considers large number of technologies represented in the model. If the particular technologies are not needed in your model, it is good practice to remove the input data for these technologies. You can also define your own technologies and customise the model accordingly.  </p>"},{"location":"getting-started/input-data/regional_csv_template/","title":"Regional CSV Template","text":""},{"location":"getting-started/input-data/regional_csv_template/#input-data-regional-csv-template","title":"Input Data: Regional CSV Template","text":"Structure of the regional CSV template files<pre><code>\ud83d\udce6 data\n \u2517 \ud83d\udcc2 pypsa-spice-data\n    \u2517 \ud83d\udcc2 project_01\n       \u2517 \ud83d\udcc2 input\n         \u2517 \ud83d\udcc2 scenario_01\n           \u2523 \ud83d\udcc2 industry\n           \u2503 \u2523 \ud83d\udcdc buses.csv\n           \u2503 \u2523 \ud83d\udcdc decommission_capacity.csv\n           \u2503 \u2523 \ud83d\udcdc direct_air_capture.csv\n           \u2503 \u2523 \ud83d\udcdc fuel_conversion.csv\n           \u2503 \u2523 \ud83d\udcdc heat_generators.csv\n           \u2503 \u2523 \ud83d\udcdc heat_links.csv\n           \u2503 \u2523 \ud83d\udcdc loads.csv\n           \u2503 \u2523 \ud83d\udcdc storage_capacity.csv\n           \u2503 \u2517 \ud83d\udcdc storage_energy.csv\n           \u2523 \ud83d\udcc2 power\n           \u2503 \u2523 \ud83d\udcdc buses.csv\n           \u2503 \u2523 \ud83d\udcdc decommission_capacity.csv\n           \u2503 \u2523 \ud83d\udcdc fuel_suppliers.csv\n           \u2503 \u2523 \ud83d\udcdc interconnector.csv\n           \u2503 \u2523 \ud83d\udcdc loads.csv\n           \u2503 \u2523 \ud83d\udcdc power_generators.csv\n           \u2503 \u2523 \ud83d\udcdc storage_capacity.csv\n           \u2503 \u2523 \ud83d\udcdc power_links.csv\n           \u2503 \u2517 \ud83d\udcdc storage_energy.csv\n           \u2517 \ud83d\udcc2 transport\n             \u2523 \ud83d\udcdc buses.csv\n             \u2523 \ud83d\udcdc loads.csv\n             \u2523 \ud83d\udcdc pev_chargers.csv\n             \u2517 \ud83d\udcdc pev_storages.csv\n</code></pre> <p>Tip</p> <p>The currency of all example data is <code>USD</code> defined in the <code>base_configs</code> section of <code>config.yaml</code>. You can refer to Model Builder Configuration for more information.</p> <p>Tip</p> <p>If there's a cell with <code>inf</code> in the csv files, it represents infinite value in <code>float</code> datatype when it is read into the network.</p>"},{"location":"getting-started/input-data/regional_csv_template/#buses","title":"Buses","text":"<p>This file defines the buses to be used in the model. All components need to be connected to one or more buses.</p> Parameter definition <code>country</code> 2-letter country codes according to ISO 3166 format <code>node</code> Node or region name within the country (can be the same as country if the model is not region-specific) <code>bus</code> PyPSA <code>bus</code> component. Format: <code>{NODE}_{TECHNOLOGY}N</code> or <code>{COUNTRY}_{TECHNOLOGY}N</code> (suffix <code>N</code> is not applied for technologies with <code>HVELEC</code>, <code>LVELEC</code>, <code>IND-LH</code>, <code>IND-HH</code>, or <code>ATMP</code>) <code>carrier</code> Fuel or resource name. Unlike other entries that are in uppercase, here only the first letter is capitalized."},{"location":"getting-started/input-data/regional_csv_template/#decommission-capacity","title":"Decommission Capacity","text":"<p><code>Decommission_capacity.csv</code> contains the installed capacity of power plants scheduled for decommissioning.</p> <ul> <li>For Generators, the <code>name</code> column must match the <code>name</code> column in <code>data_folder_name/project_name/input/input_scenario_name/power/power_generators.csv</code>.</li> <li>For Links, the <code>name</code> column must match the <code>link</code> column in <code>data_folder_name/project_name/input/input_scenario_name/power/power_links.csv</code></li> </ul> Parameter definition <code>country</code> 2-letter country codes according to ISO 3166 format <code>name</code> Asset name (to be decommissioned) <code>class</code> Component type of the asset in PyPSA network. Only the first letter is capitalized <code>years</code> Decommission plan in each year [MW]"},{"location":"getting-started/input-data/regional_csv_template/#fuel-supplies","title":"Fuel Supplies","text":"<p>These are fuel supply generators that provide fuel in the thermal energy unit [MWh_th]. It is possible to put maximum supply constraint over a year for these fuel supplies. See model schematic diagram</p> Parameter definition <code>country</code> 2-letter country codes according to ISO 3166 format <code>bus</code> Fuel supply <code>bus</code>. Format: <code>{COUNTRY}_{TECHNOLOGY}N</code> (suffix <code>N</code> is not applied for technologies with <code>HVELEC</code>, <code>LVELEC</code>, <code>IND-LH</code>, <code>IND-HH</code>, or <code>ATMP</code>) <code>supply_plant</code> Fuel supply hub. Format: <code>TGEN_{TECHNOLOGY}N</code> <code>carrier</code> Fuel or resource name <code>max_supply</code> Annual fuel supply limit [MWh/year] <code>fuel_cost</code> Fuel cost [CURRENCY/MWh] <code>year</code> Year of the fuel supply"},{"location":"getting-started/input-data/regional_csv_template/#interconnector","title":"Interconnector","text":"<p>Interconnectors connect different regions by their maximum power transfer capacity.</p> Parameter definition <code>country</code> 2-letter country codes according to ISO 3166 format <code>link</code> Name of the interconnection link between two regions/countries. Format: <code>{NODE}_HVELEC_to_{NODE}_HVELEC</code> <code>bus0</code> Region/country exporting electricity to <code>bus1</code>. Used as the <code>bus</code> component in the PyPSA network Format: <code>{NODE}_HVELEC</code> <code>bus1</code> Region/country importing electricity from <code>bus0</code>. Used as the <code>bus</code> component in the PyPSA network Format: <code>{NODE}_HVELEC</code> <code>carrier</code> Energy carrier or resource (e.g., electricity, gas). Only the first letter is capitalized <code>type</code> Interconnector technology (e.g., <code>ITCN</code>). All uppercase <code>efficiency</code> Efficiency of the interconnector <code>p_max_pu</code> Maximum availability per snapshot (per unit of <code>p_nom</code>) <code>p_min_pu</code> Minimum availability per snapshot (per unit of <code>p_nom</code>) <code>p_nom</code> Nominal capacity in the default year [MW] <code>p_nom_extendable</code> Indicates if capacity can be expanded. Possible values: <code>TRUE</code> or <code>FALSE</code> <code>cap__usd_mw</code> Capital expenditure in USD/MW (currency based on input data) <code>fom__usd_mwa</code> Fixed annual operation and maintenance cost in USD/MWa (currency based on input data) <code>marginal_cost</code> Marginal cost of the link in USD/MWh (currency based on input data) <code>p_nom_max_{YEAR}</code> Maximum additional capacity allowed for the given year in MW <code>p_nom_min_{YEAR}</code> Minimum additional capacity allowed for the given year in MW"},{"location":"getting-started/input-data/regional_csv_template/#loads","title":"Loads","text":"<p>This file contains the total load per load type which is matched to <code>profile_type</code>. You can connect multiple load types to the same bus and they would be added to create total load for the bus.  </p> Parameter definition <code>country</code> 2-letter country codes according to ISO 3166 format <code>node</code> Name of the nodes or regions <code>bus</code> PyPSA <code>bus</code> component. The values can be <code>{NODE}_HVELEC</code> or <code>{NODE}_LVELEC</code> for power sector, <code>{NODE}_IND-LH</code> or <code>{NODE}_IND-HH</code> for industry sector, and <code>{NODE}_TRAN-PRV</code> or <code>{NODE}_TRAN-PUB</code> for transport sector <code>profile_type</code> Load profile type <code>name</code> Load name. Format: <code>{BUS}_{PROFILE_TYPE}</code> <code>total_load__mwh</code> Total annual load in MWh <code>carrier</code> Energy carrier or resource. First letter capitalized <code>year</code> Year of the load data"},{"location":"getting-started/input-data/regional_csv_template/#generators","title":"Generators","text":"<p>See details of implementation in power and industry sectors.</p> Parameter definition <code>country</code> 2-letter country codes according to ISO 3166 format <code>node</code> Name of the nodes or regions <code>type</code> Generator technology. <code>carrier</code> Energy carrier or resource. First letter capitalized. <code>bus</code> PyPSA <code>bus</code> component. Format: <code>{NODE}_{TECHNOLOGY}N</code> (suffix <code>N</code> is not applied for technologies with <code>HVELEC</code>, <code>LVELEC</code>, <code>IND-LH</code>, <code>IND-HH</code>, or <code>ATMP</code>) <code>name</code> Generator name. Format: <code>{BUS}_{TECHNOLOGY}</code> <code>p_nom</code> Nominal capacity in the default year in MW <code>p_nom_extendable</code> Indicates if capacity can be expanded. Possible values: <code>TRUE</code> or <code>FALSE</code> <code>p_nom_max_{YEAR}</code> Maximum additional capacity allowed in the given year in MW <code>p_nom_min_{YEAR}</code> Minimum additional capacity allowed in the given year in MW"},{"location":"getting-started/input-data/regional_csv_template/#links","title":"Links","text":"<p>See details of implementation logic in power, industry, transport sectors.</p> Parameter definition <code>country</code> 2-letter country codes according to ISO 3166 format <code>bus0...3</code> PyPSA <code>bus</code> components. Format: <code>{NODE}_{TECHNOLOGY}N</code> (suffix <code>N</code> is not applied for technologies with <code>HVELEC</code>, <code>LVELEC</code>, <code>IND-LH</code>, <code>IND-HH</code>, or <code>ATMP</code>) <code>type</code> Link technology <code>link</code> Link name. Format: <code>{BUS0}_to_{BUS1}_by_{TECHNOLOGY}</code> <code>carrier</code> Energy carrier or resource. First letter capitalized <code>p_nom</code> Nominal capacity in the default year in MW <code>p_nom_extendable</code> Indicates if capacity can be expanded. Possible values: <code>TRUE</code> or <code>FALSE</code> <code>p_nom_max_{YEAR}</code> Maximum additional capacity allowed in the given year in MW <code>p_nom_min_{YEAR}</code> Minimum additional capacity allowed in the given year in MW"},{"location":"getting-started/input-data/regional_csv_template/#storage-capacity","title":"Storage Capacity","text":"<p>See details of implementation logic for power and industry sectors.</p> Parameter definition <code>country</code> 2-letter country codes according to ISO 3166 format <code>node</code> Name of the nodes or regions <code>type</code> Storage technology <code>carrier</code> Energy carrier or resource. First letter capitalized <code>bus</code> PyPSA <code>bus</code> component. The values can be <code>{NODE}_HVELEC</code> or <code>{NODE}_LVELEC</code> for power sector, and <code>{NODE}_IND-LH</code> for industry sector <code>name</code> Storage name. Format: <code>{BUS}_{TECHNOLOGY}</code> <code>p_nom</code> Nominal capacity in the default year in MW <code>p_nom_extendable</code> Indicates if capacity can be expanded. Possible values: <code>TRUE</code> or <code>FALSE</code> <code>p_nom_max_{YEAR}</code> Maximum additional capacity allowed in the given year in MW <code>p_nom_min_{YEAR}</code> Minimum additional capacity allowed in the given year in MW"},{"location":"getting-started/input-data/regional_csv_template/#storage-energy","title":"Storage Energy","text":"<p>See details of description for use of storage energy in power sector and industry sectors. </p> Parameter definition <code>country</code> 2-letter country codes according to ISO 3166 format <code>bus</code> PyPSA <code>bus</code> component. Format: <code>{NODE}_{TECHNOLOGY}N</code> (suffix <code>N</code> is not applied for technologies with <code>HVELEC</code>, <code>LVELEC</code>, <code>IND-LH</code>, <code>IND-HH</code>, or <code>ATMP</code>) <code>store</code> Energy storage name. Format: <code>{BUS}_STOR</code> <code>type</code> Storage technology <code>carrier</code> Energy carrier or resource. First letter capitalized <code>standing_loss</code> Hourly energy loss rate during storage, in %/hour. <code>e_nom</code> Nominal energy in the default year in MWh <code>e_nom_extendable</code> Indicates if capacity can be expanded. Possible values: <code>TRUE</code> or <code>FALSE</code> <code>max_store_{YEAR}</code> Maximum additional capacity allowed in the given year in MW"},{"location":"getting-started/input-data/regional_csv_template/#ev-chargers","title":"EV Chargers","text":"<p>See details of implementation here.</p> Parameter definition <code>country</code> 2-letter country codes according to ISO 3166 format <code>link</code> Link name. Format: <code>{BUS0}_to_{BUS1}_by_{TECHNOLOGY}</code> <code>bus0</code> Region/country exporting electricity to <code>bus1</code>. Used as the <code>bus</code> component in the PyPSA network Format: <code>{NODE}_LVELEC</code> <code>bus1</code> Region/country importing electricity from <code>bus0</code>. Used as the <code>bus</code> component in the PyPSA network Format: <code>{NODE}_TRAN-PRV</code> or <code>{NODE}_TRAN-PUB</code> <code>type</code> Storage technology: private (<code>EVCH-PRV</code>) or public (<code>EVCH-PUB</code>) <code>carrier</code> Fixed as <code>Electricity</code> <code>p_max_pu</code> Profile reading from <code>availability.csv</code> based on private (<code>EVCH-PRV</code>) or public (<code>EVCH-PUB</code>) <code>num_ch_{YEAR}</code> Number of electric vehicles charged in the given year"},{"location":"getting-started/input-data/regional_csv_template/#ev-storages","title":"EV Storages","text":"<p>See details of implementation here.</p> Parameter definition <code>country</code> 2-letter country codes according to ISO 3166 format <code>node</code> Name of the nodes, regions, or countries <code>type</code> Storage technology: private (<code>EVST-PRV</code>) or public (<code>EVST-PUB</code>) <code>carrier</code> Fixed as <code>Electricity</code> <code>bus</code> PyPSA <code>bus</code> component. Format: <code>{NODE}_TRAN-PRV</code> or <code>{NODE}_TRAN-PUB</code> <code>name</code> Storage name. Format: <code>{BUS}_{TYPE}</code> <code>num_ev_{YEAR}</code> Number of electric vehicles in the given year"},{"location":"references/citation_and_license/","title":"License","text":""},{"location":"references/citation_and_license/#citing-pypsa-spice","title":"Citing PyPSA-SPICE","text":"<p>Please use the citation below:</p> <pre><code>Agora Think Tanks (2025): PyPSA-SPICE: PyPSA-based Scenario Planning and Integrated Capacity Expansion\n</code></pre>"},{"location":"references/citation_and_license/#license","title":"License","text":"<p>Copyright \u00a9 2020-2025, PyPSA-SPICE Developers</p> <p>PyPSA-SPICE is licensed under the open-source GNU General Public License v2.0 or later with the following information:</p> <p>*This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p> <p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License v2.0 or later for more details.*</p>"},{"location":"references/citation_and_license/#contributions","title":"Contributions","text":"<p>We welcome anyone interested in contributing to this project, and please have a look at Contributing Guide and our Code of Conduct. If you have any ideas, suggestions or encounter problems, feel free to file issues or make pull requests on GitHub.</p>"},{"location":"references/developers/","title":"Developers","text":""},{"location":"references/developers/#developers-reviewers","title":"Developers &amp; Reviewers","text":"<p>The following people have contributed significantly towards the development of PyPSA-SPICE:</p>"},{"location":"references/developers/#developers","title":"Developers","text":""},{"location":"references/developers/#agora-energiewende","title":"Agora Energiewende","text":"<ul> <li>Hai Long Nguyen</li> <li>Dr. Samarth Kumar</li> <li>Yu-Chi Chang</li> <li>Dr. Saeed Sayadi</li> <li>Dr. Jia Loy</li> <li>Thomas Kouroughli (former colleague at Agora Energiewende)</li> </ul>"},{"location":"references/developers/#technische-universitat-berlin-tu-berlin","title":"Technische Universit\u00e4t Berlin (TU Berlin)","text":"<ul> <li>Dr. Elisabeth Zeyen</li> </ul>"},{"location":"references/developers/#institute-for-climate-and-sustainable-cities-icsc","title":"Institute for Climate and Sustainable Cities (ICSC)","text":"<ul> <li>Jephraim Manansala</li> </ul>"},{"location":"references/developers/#reviewers","title":"Reviewers","text":""},{"location":"references/developers/#technische-universitat-berlin-tu-berlin_1","title":"Technische Universit\u00e4t Berlin (TU Berlin)","text":"<ul> <li>Dr. Fabian Neumann</li> </ul>"},{"location":"tutorials-and-examples/data_sources/","title":"Data Sources","text":""},{"location":"tutorials-and-examples/data_sources/#data-sources-used-in-pypsa-spice","title":"Data Sources used in PyPSA-SPICE","text":"<p>There some several resources which can help you collect the input data:</p> <ul> <li>PyPSA technology-data</li> <li>The Danish Energy Agency: Technology Data for Generation of Electricity and District Heating</li> </ul>"},{"location":"tutorials-and-examples/publication/","title":"Publication","text":""},{"location":"tutorials-and-examples/publication/#publication-using-pypsa-spice-model-builder","title":"Publication using PyPSA-SPICE Model Builder","text":"<p>Here is a list of studies that have utilized the PyPSA-SPICE model. These studies were conducted either internally by Agora or in collaboration with our partners.</p> Publication Link Citation Towards a collective vision of Thai energy transition: National long-term scenarios and socioeconomic implications study link Alignment between Vietnam PDP8 and JETP commitment: Power system analysis 2030 study link Thailand: Towards carbon neutrality through PDP 2024: A cost-optimization analysis perspective study link Kazakhstan\u2019s power system 2035: options for development study link"},{"location":"tutorials-and-examples/training_materials/","title":"Training Materials","text":""},{"location":"tutorials-and-examples/training_materials/#tutorial-resources","title":"Tutorial Resources","text":"<p>PyPSA has a vibrant and welcoming community of modellers. Here are some resources which can help you understand the methodology, knowledge and structure of PyPSA related models:</p> <ul> <li>PyPSA introduction from TU Berlin</li> <li>PyPSA documentation</li> <li>PyPSA-meets-Earth discord channel</li> <li>PyPSA-Eur documentation</li> </ul> <p>Add your resource here?</p> <p>If you have a knowledge resource you would like to add, please share it with us by emailing at  or add it to discussion forum on the PyPSA-SPICE repository."},{"location":"tutorials-and-examples/training_materials/#pypsa-spice-or-pypsa-training-materials-from-agora","title":"PyPSA-SPICE or PyPSA Training Materials from Agora","text":"<p>We also provide training and long-term capacity building program to get you started. We have partner programs in various countries where we support using and building your PyPSA model. Therefore, feel free to reach out to us as we might be able to support you in getting started with PyPSA. </p> <p>Some of the training material we use during our one off multi-day training and long-term capacity building program:</p> <ul> <li>Basic PyPSA training using green hydrogen production as an example.</li> <li>Training on PyPSA-SPICE</li> </ul>"},{"location":"user-guide/industry_sector/","title":"Industry Sector","text":""},{"location":"user-guide/industry_sector/#industry-sector","title":"Industry Sector","text":""},{"location":"user-guide/industry_sector/#key-features","title":"Key Features","text":"<p>Optimisation of industry heat supply at two different temperature levels:</p> <ul> <li>High-temperature (above 350\u00b0C)</li> <li>Low/medium-temperature (350\u00b0C or below)</li> </ul> <p>The structure and functionality of components follow the PyPSA Components. The diagram below shows the full set of components involved in energy flows for a single industrial node.</p> <p></p>"},{"location":"user-guide/industry_sector/#heat-generators","title":"Heat Generators","text":"<p>The following component is defined as <code>Generator</code> in PyPSA.</p> Abbreviation Full Name <code>SWHT</code> Solar hot water heater"},{"location":"user-guide/industry_sector/#heat-links","title":"Heat Links","text":"<p>All the listed components are defined as <code>Link</code> in PyPSA.</p> Abbreviation Full Name <code>EERH</code> Electric resistance heater <code>EDLH</code> Dielectric heating technology <code>EHPP</code> Industry heat pump <code>EIDT</code> Induction heat boiler <code>FITR</code> Fischer-Tropsch process <code>IND_BOILER</code> Industry heat boiler <code>INLHSTOR</code> Low-temperature heat Storage <code>METH</code> Methanation"},{"location":"user-guide/industry_sector/#fuel-conversion","title":"Fuel Conversion","text":"<p>All the listed components are defined as <code>Link</code> in PyPSA.</p> Abbreviation Full Name <code>ELTZ</code> Electrolyser (for hydrogen production) <code>FITR</code> Fischer-Tropsch process"},{"location":"user-guide/industry_sector/#direct-air-capture","title":"Direct Air Capture","text":"<p>The following components is defined as <code>Link</code> in PyPSA.</p> Abbreviation Full Name <code>DAC</code> Direct air capture"},{"location":"user-guide/industry_sector/#storage-capacity","title":"Storage Capacity","text":"<p>The following component is defined as <code>StorageUnit</code> in PyPSA.</p> <p>Tip</p> <p>In PyPSA components, <code>StorageUnit</code> is modelled as a storage asset with a fixed energy-to-power ratio defined by <code>max_hours</code> of the nominal power (you can also refer to PyPSA Components - Storage Unit for more information). To model the storage energy separately from the power capacity, <code>store</code> + 2 <code>links</code> is a better combination. You can refer to Storage Energy for more information. Technologies defined in the storage energy require storage capacity if the carrier is related to electricity (power).</p> Abbreviation Full Name <code>INLHSTOR</code> Low-temperature heat storage"},{"location":"user-guide/industry_sector/#storage-energy","title":"Storage Energy","text":"<p>All the listed components are defined as <code>Store</code> in PyPSA.</p> <p>Tip</p> <p>In PyPSA components, <code>Store</code> is modelled as a storage asset with only energy storage. It can optimise energy capacity separately from the power capacity with a combination of <code>store</code> + 2 <code>links</code>. The links represent charging and discharging characteristics to control the power output. Marginal cost and efficiency of charging and discharging can be defined in each link. IIn the industry sector of PyPSA-SPICE model builder, the media <code>electricity</code> is replaced by <code>low temperature heat</code> in the storage process. Technologies that are defined as storage energy, they should also be included in Storage Capacity to describe charging and discharging processes. The links are created automatically , and hence it's not required to add charging and discharging links inside Heat Links, Fuel Conversion, or Direct Air Capture. Detailed information and example can be found in PyPSA Components - Store and Replace StorageUnits with fundamental Links and Stores.</p> Abbreviation Full Name <code>INLHSTOR</code> Low-temperature heat storage"},{"location":"user-guide/industry_sector/#carriers","title":"Carriers","text":"Abbreviation Full Name <code>Bio</code> Biomass <code>CO2</code> Carbon dioxide (in the atmosphere) <code>Co2stor</code> Captured carbon dioxide <code>Electricity</code> Electricity <code>Gas</code> Domestic natural gas <code>High_Heat</code> High-temperature heat (&gt; 350\u00b0C) <code>Hrdc</code> Anthracite or hard coal <code>Hyd</code> Hydrogen <code>Low_Heat</code> Low/Medium-temperature heat (&lt; 350\u00b0C) <code>Oil</code> Oil"},{"location":"user-guide/industry_sector/#buses","title":"Buses","text":"Abbreviation Full Name <code>CO2STORN</code> CO<sub>2</sub> storage <code>HVELEC</code> High-voltage electricity <code>HYDN</code> Hydrogen <code>LVELEC</code> Low-voltage electricity <code>IND_LH</code> Industrial low-temperature heat <code>IND_HH</code> Industrial high-temperature heat <code>INLHSTORN</code> Industrial low-temperature heat storage"},{"location":"user-guide/industry_sector/#other-components","title":"Other Components","text":"Abbreviation Full Name <code>co2Price</code> Price of emitting one unit of CO<sub>2</sub> into the atmosphere <code>IND_LOAD</code> Industrial load (both high- and low-temperature heat)"},{"location":"user-guide/industry_sector/#custom-constraints-defined-in-the-configyaml-file","title":"Custom Constraints (Defined in the <code>config.yaml</code> File)","text":"<ul> <li>Coming soon...</li> </ul>"},{"location":"user-guide/model-builder-methodology/","title":"Model Builder Methodology","text":""},{"location":"user-guide/model-builder-methodology/#model-builder-methodology","title":"Model Builder Methodology","text":"<p>PyPSA-SPICE is a least-cost optimization model builder designed to evaluate long-term national energy scenarios at a nodal network level. Built on the PyPSA framework, it adopts a multi-sectoral cost optimization approach with a primary focus on the power system.</p> <p>The diagram below illustrates the energy flows within a single node:</p> <p></p> <p>Each component in this model follows the definitions from PyPSA components and the system is structured into three main sectors:</p> <ul> <li>Power sector</li> <li>Industry sector</li> <li>Transport sector</li> </ul> <p>You can find more detailed information within each sector\u2019s dedicated section.</p>"},{"location":"user-guide/post-analysis/","title":"Post Analysis","text":""},{"location":"user-guide/post-analysis/#standard-output-from-the-snakemake-workflow","title":"Standard Output from the Snakemake Workflow","text":"<p>The following NetCDF files, CSVs, and charts are generated automatically after the whole Snakemake workflow is successfully executed.</p>"},{"location":"user-guide/post-analysis/#netcdf-files-nc-files","title":"NetCDF Files (<code>*.nc</code> Files)","text":"<p>NetCDF (Network Common Data Form) is a data format for efficiently storing multi-dimensional arrays. By default, the PyPSA-SPICE model creates:</p> <ul> <li>Pre-solve networks in the <code>results/pre-solve</code> directory in the <code>project_name</code> folder.</li> <li>Pre-solve-brownfield networks in the <code>results/pre-solve-brownfield</code> directory in the <code>project_name</code> folder.</li> <li>Post networks in the <code>results/post-solve</code> directory in the <code>project_name</code> folder.</li> </ul> <p>These <code>*.nc</code> files allow users to examine the model\u2019s structure, inputs, and results before and after optimisation.</p>"},{"location":"user-guide/post-analysis/#excel-ready-csvs","title":"Excel-Ready CSVs","text":"<p>The following CSV files are created automatically. Each file represents a key indicator, broken down by sector and modeling year or hour, depending on granularity.</p> File Name Sector Unit Description <code>ene_avg_fuel_costs_fuel_yearly</code> Energy currency/MWh<sub>th</sub> Average fuel costs by modeling year <code>ene_costs_opex_capex_yearly</code> Energy million currency Total CAPEX and OPEX in energy sectors by modeling year <code>ene_dmd_by_carrier_yearly</code> Energy TWh Energy demand by carrier (e.g., <code>Electricity</code>) by modeling year <code>ene_emi_by_carrier_by_sector_yearly</code> Energy MtCO<sub>2</sub> Total emissions by carrier and sector by modeling year <code>ene_fom_by_type_yearly</code> Energy million currency Total fixed operation and maintenance cost by technology (e.g., <code>CCGT</code>) by modeling year <code>ene_gen_by_carrier_yearly</code> Energy TWh Total generation by carrier (e.g., <code>Electricity</code>) by modeling year <code>ene_opex_by_type_yearly</code> Energy million currency OPEX in energy sectors by technology (e.g., <code>CCGT</code>) by modeling year <code>ind_cap_by_carrier_by_region_yearly</code> Industry GW Installed capacity in the industry sector by carrier and region/node, and by modeling year <code>ind_cap_by_type_by_carrier_yearly</code> Industry GW Installed capacity in the industry sector by technology and carrier, and by modeling year <code>ind_emi_by_carrier_yearly</code> Industry MtCO<sub>2</sub> Emissions in the industry sector by carrier by modeling year <code>ind_gen_by_carrier_by_region_yearly</code> Industry TWh Generation in the industry sector by carrier and region/node, and by modeling year <code>ind_gen_by_type_by_carrier_by_heatgroup_yearly</code> Industry TWh Generation in the industry sector by technology and carrier, heating group, and by modeling year <code>ind_gen_by_type_hourly</code> Industry MW Generation in the industry sector by technology by modeling year <code>ind_hh_gen_by_type_hourly</code> Industry MW Generation in the industry sector (high-heat) by technology by modeling year <code>ind_lh_gen_by_type_hourly</code> Industry MW Generation in the industry sector (low-heat)  by technology by modeling year <code>pow_bats_charging_hourly</code> Power MW Hourly battery charging profile by modeling year <code>pow_bats_ep_ratio</code> Power - Battery Energy-to-Power ratio <code>pow_battery_flows_by_region_hourly</code> Power MW Hourly battery flows between different regions/nodes by modeling year <code>pow_cap_by_region_yearly</code> Power GW Installed capacity in the power sector by region/node by modeling year <code>pow_cap_by_type_yearly</code> Power GW Installed capacity in the power sector by technology (e.g., <code>CCGT</code>) by modeling year <code>pow_cap_by_type_by_region_yearly</code> Power GW Installed capacity in the power sector by technology (e.g., <code>CCGT</code>) by region/node by modeling year <code>pow_capex_by_type_yearly</code> Power million currency CAPEX in the power sector by technology (e.g., <code>CCGT</code>) by modeling year <code>pow_elec_load_by_sector_hourly</code> Power MW Hourly electricity load by sector <code>pow_emi_by_carrier_yearly</code> Power MtCO<sub>2</sub> Emissions in the power sector by carrier (e.g., <code>Gas</code>) by modeling year <code>pow_flh_by_type_yearly</code> Power Hours Full load hours by technology (e.g., <code>CCGT</code>) by modeling year <code>pow_fom_by_type_yearly</code> Power million currency Fixed operation and maintenance cost in the power sector by technology (e.g., <code>CCGT</code>) by modeling year <code>pow_gen_by_category_share_yearly</code> Power % Fossil-Renewables share by modeling years <code>pow_gen_by_type_hourly</code> Power MW Hourly generation in the power sector by technology (e.g., <code>CCGT</code>) <code>pow_gen_by_type_region_hourly</code> Power TWh Hourly generation in the power sector by region/node by modeling year <code>pow_gen_by_type_yearly</code> Power TWh Generation in the power sector by technology (e.g., <code>CCGT</code>) by modeling year <code>pow_hdam_flows_by_region_hourly</code> Power MW Hourly hydro dam flow profile by modeling year <code>pow_hphs_flows_by_region_hourly</code> Power MW Hourly hydro pumped storage profile by modeling year <code>pow_inter_cf_by_region_yearly</code> Power - Capacity factor of the interconnectors by region/node by modeling year <code>pow_intercap_by_region_yearly</code> Power GW Installed capacity of the interconnectors by region/node by modeling year <code>pow_marginal_price_by_region_hourly</code> Power currency/MWh Hourly marginal price by region/node by modeling year <code>pow_nodal_flow_hourly</code> Power MW Hourly exchange flow between different regions/nodes by modeling year <code>pow_opex_by_type_yearly</code> Power million currency OPEX in the power sector by technology (e.g., <code>CCGT</code>) by modeling year <code>pow_overnight_inv_by_type_yearly</code> Power million currency Overnight investment cost in the power sector by technology (e.g., <code>CCGT</code>) by modeling year <code>pow_reserve_by_type_hourly</code> Power TWh Reserve by technology (e.g., onshore wind) by modeling year <code>tran_capex_by_type_yearly</code> Transport million currency CAPEX in the transport sector by technology by modeling year <code>tran_charger_capacity_by_region_yearly</code> Transport GW Capacity of the chargers in the transport sector by region by modeling year <code>tran_charger_capacity_by_type_yearly</code> Transport GW Capacity of the chargers in the transport sector by technology by modeling year <code>tran_load_charging_all_hourly_by_region</code> Transport MW Hourly charging/discharging/load status in the transport sector by region/node by modeling year <code>tran_load_charging_all_hourly_by_type</code> Transport MW Hourly charging/discharging/load status in the transport sector by technology by modeling year <code>tran_load_charging_all_hourly</code> Transport MW Hourly charging/discharging/load status in the transport sector by modeling year <code>tran_storage_capacity_by_region_yearly</code> Transport GW Capacity of the storage in the transport sector by region by modeling year <code>tran_storage_capacity_by_type_yearly</code> Transport GW Capacity of the storage in the transport sector by technology by modeling year"},{"location":"user-guide/post-analysis/#jupyter-notebook","title":"Jupyter Notebook","text":"<p>We provide a <code>post-analysis/post_analysis.ipynb</code> for manual exploration of the pre-solve, pre-solve-brownfield, or post-solve network files.</p>"},{"location":"user-guide/post-analysis/#dynamic-visualization","title":"Dynamic Visualization","text":"<p>To make it easier to explore and compare model outputs, we provide an open-source library PyPSA-SPICE-Vis, an interactive visualisation library that generates dynamic charts using the outputs listed above.</p>"},{"location":"user-guide/power_sector/","title":"Power Sector","text":""},{"location":"user-guide/power_sector/#power-sector","title":"Power Sector","text":""},{"location":"user-guide/power_sector/#key-features","title":"Key Features","text":"<ul> <li>Co-optimisation of generation and capacity expansion including interconnections.</li> <li>Myopic (Year-by-year) optimisation. Each year is optimised independently, without assuming knowledge of future developments.</li> <li>Brownfield modelling approach. The model builds on existing infrastructure, meaning capacity from previous years is retained and carried forward.</li> </ul> <p>PyPSA-SPICE follows the component definitions from PyPSA Components. The diagram below illustrates all components involved in energy flows at a single node in the power sector.</p> <p></p>"},{"location":"user-guide/power_sector/#power-generators","title":"Power Generators","text":"<p>All the listed components are defined as <code>Generator</code> in PyPSA.</p> Abbreviation Full Name <code>CSP</code> Concentrated solar power plant <code>GEOT</code> Geothermal power plant <code>HROR</code> Hydro run-of-river <code>PHOT</code> Solar PV <code>RTPV</code> Rooftop PV <code>WTOF</code> Offshore wind <code>WTON</code> Onshore wind"},{"location":"user-guide/power_sector/#power-links","title":"Power Links","text":"<p>All the listed components are defined as <code>Link</code> in PyPSA.</p> Abbreviation Full Name <code>BIOT</code> Biomass power plant <code>CCGT</code> Combined-cycle gas turbine power plant <code>CHP</code> Combined heat and power plant <code>ELTZ</code> Electrolyser (for hydrogen production) <code>NUCL</code> Nuclear power plant <code>OCGT</code> Open-cycle gas turbine power plant <code>OCHT</code> Open-cycle hydrogen turbine power plant <code>OILT</code> Oil turbine power plant power plant <code>SubC</code> Subcritical coal-fired power plant <code>SupC</code> Supercritical coal-fired power plant <code>WSTT</code> Waste-to-Energy power plant"},{"location":"user-guide/power_sector/#storage-capacity","title":"Storage Capacity","text":"<p>The following component is defined as <code>StorageUnit</code> in PyPSA.</p> <p>Storages can be modelled with two approaches.</p> <ol> <li>Fixed Energy/Power Ratio: In this case, the energy to power ratio for storage is predefined. You can use multiple storage type with different energy to power ratio. For example, <code>BATS</code> with E/P ratio of 4 and <code>BATS</code> with E/P ratio of 8 representing different energy to power ratio and the model will optimise the capacity of each of these technology. In this case, PyPSA type <code>Storage_units</code> can be used for modelling and defining the energy to power ratio in <code>technologies.csv</code>.</li> <li>Variable Energy/Power Ratio: If you want the model to optimise the energy/power ratio of storage your have to model it using a combination of <code>links</code> + <code>store</code> component. This requires separate inputs like costs for capacity and energy component of the storage inputs.</li> </ol> <p>Tip</p> <p>In PyPSA components, <code>StorageUnit</code> is modelled as a storage asset with a fixed energy-to-power ratio defined by <code>max_hours</code> of the nominal power (you can also refer to PyPSA Components - Storage Unit for more information). Thus, in PyPSA-SPICE model builder, hydro dam <code>HDAM</code> is defined as a <code>StorageUnit</code> and it is given in storage capcaity only to represent nominal power-related params.  To model the storage energy separately from the power capacity, <code>store</code> + 2 <code>links</code> is a better combination. You can refer to Storage Energy for more information. Technologies defined in the storage energy require storage capacity if the carrier is related to electricity (power).</p> Abbreviation Full Name <code>HDAM</code> Hydro dam <code>BATS</code> Utility-scale battery storage <code>HHBS</code> Household battery storage <code>HPHS</code> Hydro pumped storage"},{"location":"user-guide/power_sector/#storage-energy","title":"Storage Energy","text":"<p>All the listed components are defined as <code>Store</code> in PyPSA.</p> <p>Tip</p> <p>In PyPSA components, <code>Store</code> is modelled as a storage asset with only energy storage. It can optimise energy capacity separately from the power capacity with a combination of <code>store</code> + 2 <code>links</code>. The links represent charging and discharging characteristics to control the power output. Marginal cost and efficiency of charging and discharging can be defined in each link. In PyPSA-SPICE model builder, technologies that are defined as storage energy, they should also be included in Storage Capacity to describe charging and discharging processes. The links are created automatically , and hence it's not required to add charging and discharging links inside Power Links. Detailed information and example can be found in PyPSA Components - Store and Replace StorageUnits with fundamental Links and Stores.</p> Abbreviation Full Name <code>CO2STOR</code> CO<sub>2</sub> storage <code>BATS</code> Utility-scale battery storage <code>HHBS</code> Household battery storage <code>HPHS</code> Hydro pumped storage"},{"location":"user-guide/power_sector/#carriers","title":"Carriers","text":"Abbreviation Full Name <code>Bio</code> Biomass <code>Bit</code> Bituminous or brown coal <code>CO2</code> Carbon dioxide (in the atmosphere) <code>Co2stor</code> Captured carbon dioxide <code>Electricity</code> Electricity <code>Gas</code> Domestic natural gas <code>Gas-imp</code> Imported natural gas <code>High_Heat</code> High-temperature heat (&gt; 350\u00b0C) <code>Hrdc</code> Anthracite or hard coal <code>Hyd</code> Hydrogen <code>Lig</code> Lignite <code>Lng</code> Liquefied natural gas <code>Low_Heat</code> Low/Medium-temperature heat (&lt; 350\u00b0C) <code>Oil</code> Oil <code>Uranium</code> Uranium <code>Waste</code> Waste"},{"location":"user-guide/power_sector/#buses","title":"Buses","text":"Abbreviation Full Name <code>ATMP</code> Atmosphere <code>BATSN</code> Lithium battery storage <code>BION</code> Biomass <code>BITN</code> Bituminous <code>CO2STORN</code> CO<sub>2</sub> storage <code>GASN</code> Gas <code>HHBSN</code> Household battery storage <code>HPHSN</code> Hydro pumped storage <code>HRDCN</code> Anthracite or hard coal <code>HVELEC</code> High-voltage electricity <code>HYDN</code> Hydrogen <code>LIGN</code> Lignite <code>LNGN</code> liquefied natural gas <code>LVELEC</code> Low-voltage electricity <code>NUCLN</code> Uranium <code>OILN</code> Oil <code>WSTN</code> Waste"},{"location":"user-guide/power_sector/#other-components","title":"Other Components","text":"Abbreviation Full Name <code>co2Price</code> Price of emitting one unit of CO<sub>2</sub> into the atmosphere <code>r</code> Interest rate <code>HV_LOAD</code> Wholesale market load (High voltage level) <code>LV_LOAD</code> Building load (low/medium voltage level)"},{"location":"user-guide/power_sector/#custom-constraints-defined-in-the-configyaml-file","title":"Custom Constraints (Defined in the <code>config.yaml</code> File)","text":"<ul> <li>CO2 management</li> <li>Energy independence</li> <li>Fuel production constraint</li> <li>Reserve margin</li> <li>Renewable generation share constraint</li> <li>Must run constraint of thermal generators</li> <li>Capacity factor constraint</li> </ul> <p>You can refer to Model Builder Constraints for more information.</p>"},{"location":"user-guide/transport_sector/","title":"Transport Sector","text":""},{"location":"user-guide/transport_sector/#transport-sector","title":"Transport Sector","text":""},{"location":"user-guide/transport_sector/#key-features","title":"Key Features","text":"<ul> <li>Optimal charging of electric vehicles (EVs), taking into account availability and charging constraints.</li> <li>Supply of fuels for transport.</li> </ul> <p>The structure and function of each component follow the definitions from the PyPSA components. The diagram below illustrates the components and energy flows at a single node in the transport sector.</p> <p></p> <p>Tip</p> <p>In the transport sector, PyPSA-SPICE separated the demand and energy flow into two categories: private and public sector. The public sector (<code>PUB</code>) encompasses public transportation services, while the private sector (<code>PRV</code>) refers to personally owned vehicles.</p>"},{"location":"user-guide/transport_sector/#electric-vehicle-chargers","title":"Electric Vehicle Chargers","text":"<p>All the listed components are defined as <code>Link</code> in PyPSA.</p> Abbreviation Full Name <code>EVCH-PRV</code> Electric vehicle charger (Private) <code>EVCH-PUB</code> Electric vehicle charger (Public)"},{"location":"user-guide/transport_sector/#electric-vehicle-storage","title":"Electric Vehicle Storage","text":"<p>All the listed components are defined as <code>Store</code> in PyPSA.</p> <p>Tip</p> <p>In PyPSA components, <code>Store</code> is modelled as a storage asset with only energy storage. It can optimise energy capacity separately from the power capacity with a combination of <code>store</code> + 2 <code>links</code>. The links represent charging and discharging characteristics to control the power output. Marginal cost and efficiency of charging and discharging can be defined in each link. In the transport sector of PyPSA-SPICE model builder, technologies that are defined as storage energy, their links of charging and discharging links are defined in Electric Vehicle Chargers. Detailed information and example can be found in PyPSA Components - Store and Replace StorageUnits with fundamental Links and Stores.</p> Abbreviation Full Name <code>EVST-PRV</code> Electric vehicle storage (Private) <code>EVST-PUB</code> Electric vehicle storage (Public)"},{"location":"user-guide/transport_sector/#carriers","title":"Carriers","text":"Abbreviation Full Name <code>Electricity</code> Electricity"},{"location":"user-guide/transport_sector/#buses","title":"Buses","text":"Abbreviation Full Name <code>HVELEC</code> High-voltage electricity <code>LVELEC</code> Low-voltage electricity <code>TRAN-PUB</code> Public electric vehicle <code>TRAN-PRV</code> Private electric vehicle"},{"location":"user-guide/transport_sector/#other-components","title":"Other Components","text":"Abbreviation Full Name <code>HPV_LOAD</code> Transport load (High voltage level) <code>LPV_LOAD</code> Transport load (low/medium voltage level)"},{"location":"user-guide/transport_sector/#custom-constraints-defined-in-the-configyaml-file","title":"Custom Constraints (Defined in the <code>config.yaml</code> File)","text":"<ul> <li>Coming soon...</li> </ul>"},{"location":"user-guide/troubleshooting/","title":"Troubleshooting","text":""},{"location":"user-guide/troubleshooting/#troubleshooting","title":"Troubleshooting","text":""},{"location":"user-guide/troubleshooting/#setup-debugger","title":"Setup Debugger","text":"<p>To test the workflow using Snakemake rules, a configuration file <code>launch.json</code> with the following content is required:</p> Debugger configurations<pre><code>{\n    \"version\": \"0.2.0\",\n    \"configurations\": [\n        {\n            \"name\": \"mock snakemake\",\n            \"type\": \"python\",\n            \"request\": \"launch\",\n            \"program\": \"${file}\",\n            \"console\": \"integratedTerminal\",\n            \"justMyCode\": false,\n            \"cwd\": \"${cwd}${pathSeparator}scripts\"\n        }\n    ]\n}\n</code></pre> <p>Once this file is set up, you can easily run any Python file in the <code>scripts</code> folder under debugger mode for testing.</p>"},{"location":"user-guide/troubleshooting/#infeasibility-issues","title":"Infeasibility Issues","text":"<p>If your model is infeasible or unbounded, it often means that your input settings are leading to a situation where PyPSA can\u2019t solve one or more objective functions. Common causes are:</p> <ul> <li>Insufficient generator capacity at a bus to meet the load across all snapshots.</li> <li>Must-run generators (<code>p_min_pu</code>) produce more power than the load at certain snapshots, causing excess power (i.e., power dumping).</li> <li>Negative values assigned to capacity parameters.</li> <li>Maximum capacity (<code>p_nom_max</code>) is smaller than minimum capacity (<code>p_nom_min</code>).</li> <li>Storage units has inflow and cyclic charging (<code>cyclic_state_of_charge = True</code>) but no discharging capability.</li> </ul>"},{"location":"user-guide/troubleshooting/#tips-for-diagnosing-the-problem","title":"Tips for Diagnosing the Problem","text":"<p>Try the following steps to identify and fix the issue:</p> <ul> <li>Run <code>pypsa.network.consistency_check()</code> to check if any warnings appear.</li> <li>Temporarily disable custom features or user extensions to isolate the cause.</li> <li>Ensure load-shedding generators are added to every bus.</li> <li>Check <code>pypsa.network.generators.p_min_pu</code> to identify any must-run generators. Then verify if their generation exceeds the corresponding load in <code>pypsa.network.loads_t.p_set</code>.</li> <li>Compare the <code>p_nom_max</code> and <code>p_nom_min</code> values for each component to ensure they make sense (i.e., max \u2265 min).</li> <li>Try disabling cyclic charging for storage units: <code>pypsa.network.storage_units.cyclic_state_of_charge = False</code>.</li> <li>Double-check for any negative values in:<ul> <li><code>pypsa.network.{component}.p_nom</code></li> <li><code>pypsa.network.{component}.p_nom_max</code></li> <li><code>pypsa.network.{component}.p_nom_min</code></li> </ul> </li> </ul>"},{"location":"user-guide/troubleshooting/#more-detailedinformation","title":"More detailedinformation","text":"<p>PyPSA also provides official guidance on solving infeasiblity issues. You can also explore the link to seek for a good solution.</p>"},{"location":"visualisation-tool/deployment/","title":"Deployment","text":""},{"location":"visualisation-tool/deployment/#deployment-of-pypsa-spice-vis-app","title":"Deployment of PyPSA-SPICE-Vis app","text":"<p>The easiest method to deploy is using git-lfs to manage the data and simply using streamlit's community cloud.</p> <ol> <li>Download git-lfs:</li> </ol> on Windowson LinuxOn Mac <pre><code>download git-lfs directly from https://git-lfs.com/.\n</code></pre> <pre><code>sudo apt-get install git-lfs\n</code></pre> <pre><code>brew install git-lfs\n</code></pre> <ol> <li> <p>To deploy the app, create a branch of the repo. This will also allow you to make changes like default values for country and scenario, graph setting, etc.</p> </li> <li> <p>Install git-lfs via the following command:</p> </li> </ol> installing git-lfs<pre><code>git lfs install\n</code></pre> <ol> <li> <p>Add the results data files inside this branch. These data files will be tracked using git-lfs. Note: add only the CSV files but do keep the same folder structure as that of <code>pypsa-spice</code> results.</p> </li> <li> <p>Add path to this results folder inside <code>pypsa-spice-vis/setting/initial_project_01_deploy.yaml</code>. Note: the <code>pypsa-spice-vis/setting/initial.yaml</code>is ignored by git and used for local deployment.</p> </li> <li> <p>In <code>pypsa-spice-vis/main.py</code>, make <code>DEPLOY == True</code>. By default, <code>False</code> for local run.</p> </li> <li> <p>Initialise and track the result files using git-lfs. You will have to add all csvs to be tracked with lfs tracking system with following commands based on your operation system:</p> </li> </ol> on Mac or Linuxon Windows <pre><code>git lfs install\ngit lfs track \"*.csv\"\ngit add .gitattributes\ngit commit -m \"Track all CSV files with Git LFS\"\nfind . -name \"*.csv\" -exec git add {} \\; \n</code></pre> <pre><code>git lfs install\ngit lfs track \"*.csv\"\ngit add .gitattributes\ngit commit -m \"Track all CSV files with Git LFS\"\nfor /r %i in (*.csv) do git add \"%i\"\n</code></pre> <p>After adding all csv files, you can initialise and commit tracked files using git-lfs:</p> committing all tracked files<pre><code>git commit -m \"Add all CSV files\"\ngit push\n</code></pre> <p>Now the repository can be linked simply to Streamlit's deployment system.</p>"},{"location":"visualisation-tool/pypsa-spice-vis%20copy/","title":"Pypsa spice vis copy","text":""},{"location":"visualisation-tool/pypsa-spice-vis%20copy/#pypsa-spice-vis-visualisation-tool-for-pypsa-spice-model-builder","title":"PyPSA-SPICE-Vis: Visualisation tool for PyPSA-SPICE Model Builder","text":"<p>PyPSA-SPICE-Vis is an open-source tool designed to simplify the visualization and comparison of outputs generated by the PyPSA-SPICE model builder. It allows users to view and compare charts from post-analysis of multiple scenarios directly within a single webpage. As PyPSA-SPICE-Vis is built to work with the PyPSA-SPICE model builder, having the PyPSA-SPICE model builder is a prerequisite for using this tool.</p> <p></p>"},{"location":"visualisation-tool/pypsa-spice-vis%20copy/#how-to-use-it","title":"How to use it","text":""},{"location":"visualisation-tool/pypsa-spice-vis%20copy/#create-initialyaml","title":"Create initial.yaml","text":"<p>The pypsa-spice-vis folder and its files should be inside the PyPSA-SPICE repository by default. The first step is to enter the pypsa-spice-vis folder and create an <code>initial.yaml</code> in the <code>setting</code> folder to provide initial settings for the app. This file will be ignored by git and is exclusive to your computer. You can refer to <code>pypsa-spice-vis/setting/initial_project_01.yaml</code> as an example, or copy the example file directly:</p> Copying the initial.yaml file<pre><code>cp pypsa-spice-vis/setting/initial_project_01.yaml pypsa-spice-vis/setting/initial.yaml\n</code></pre> <p>Structure of the <code>initial.yaml</code> is explained as follows:</p> Explanation of initial.yaml<pre><code>project: \"project_01\" #(1)!\nsce1: \"ref\" # (2)!\nsce2: \"opt\" #(3)!\n</code></pre> <ol> <li>Mandatory input project name. This name is the same as <code>project_name</code> from <code>pypsa-spice/config.yaml</code>.</li> <li>Mandatory input name of the first scenario ( the name is usually <code>ref</code> from the <code>output_scenario_name</code> in <code>pypsa-spice/config.yaml</code>).</li> <li>Optional input name of the first scenario ( the name is usually other scenarios from the <code>output_scenario_name</code>  in <code>pypsa-spice/config.yaml</code>).</li> </ol>"},{"location":"visualisation-tool/pypsa-spice-vis%20copy/#run-streamlit-app","title":"Run streamlit app","text":"<p>You can run streamlit app with the command below:</p> Current path in <code>pypsa-spice/</code>Current path in <code>pypsa-spice/pypsa-spice-vis/</code> <pre><code>streamlit run pypsa-spice-vis/main.py\n</code></pre> <pre><code>streamlit run main.py\n</code></pre> <p>After running, you will be able to see a local web link/url in the terminal. Simply open the link/url in your browser and you will be able to see the visualisations.</p>"},{"location":"visualisation-tool/pypsa-spice-vis%20copy/#what-charts-are-displayed-in-the-tool-by-default","title":"What charts are displayed in the tool by default","text":"<p>The available charts and sections are listed in List of charts and sections which you will be able to see all of them in the browser if your model include all sectors (power+industry+transport).</p>"},{"location":"visualisation-tool/pypsa-spice-vis%20copy/#deploy-your-visualistaion-results-to-the-web","title":"Deploy your visualistaion results to the web","text":"<p>You can review the visualisation in the localhost or deploy them into the webpage. More details are described in deployment</p>"},{"location":"visualisation-tool/pypsa-spice-vis/","title":"PyPSA-SPICE-Vis","text":""},{"location":"visualisation-tool/pypsa-spice-vis/#pypsa-spice-vis-visualisation-tool-for-pypsa-spice-model-builder","title":"PyPSA-SPICE-Vis: Visualisation tool for PyPSA-SPICE Model Builder","text":"<p>PyPSA-SPICE-Vis is an open-source tool designed to simplify the visualization and comparison of outputs generated by the PyPSA-SPICE model builder. It allows users to view and compare charts from post-analysis of multiple scenarios directly within a single webpage. As PyPSA-SPICE-Vis is built to work with the PyPSA-SPICE model builder, having the PyPSA-SPICE model builder is a prerequisite for using this tool.</p>"},{"location":"visualisation-tool/pypsa-spice-vis/#how-to-use-it","title":"How to use it","text":""},{"location":"visualisation-tool/pypsa-spice-vis/#create-initialyaml","title":"Create initial.yaml","text":"<p>The pypsa-spice-vis folder and its files should be inside the PyPSA-SPICE repository by default. The first step is to enter the pypsa-spice-vis folder and create an <code>initial.yaml</code> in the <code>setting</code> folder to provide initial settings for the app. This file will be ignored by git and is exclusive to your computer. You can refer to <code>pypsa-spice-vis/setting/initial_project_01.yaml</code> as an example, or copy the example file directly:</p> Copying the initial.yaml file<pre><code>cp pypsa-spice-vis/setting/initial_project_01.yaml pypsa-spice-vis/setting/initial.yaml\n</code></pre> <p>Structure of the <code>initial.yaml</code> is explained as follows:</p> Explanation of initial.yaml<pre><code>project: \"project_01\" #(1)!\nsce1: \"ref\" # (2)!\nsce2: \"opt\" #(3)!\n</code></pre> <ol> <li>Mandatory input project name. This name is the same as <code>project_name</code> from <code>pypsa-spice/config.yaml</code>.</li> <li>Mandatory input name of the first scenario ( the name is usually <code>ref</code> from the <code>output_scenario_name</code> in <code>pypsa-spice/config.yaml</code>).</li> <li>Optional input name of the first scenario ( the name is usually other scenarios from the <code>output_scenario_name</code>  in <code>pypsa-spice/config.yaml</code>).</li> </ol>"},{"location":"visualisation-tool/pypsa-spice-vis/#run-streamlit-app","title":"Run streamlit app","text":"<p>You can run streamlit app with the command below:</p> Current path in <code>pypsa-spice/</code>Current path in <code>pypsa-spice/pypsa-spice-vis/</code> <pre><code>streamlit run pypsa-spice-vis/main.py\n</code></pre> <pre><code>streamlit run main.py\n</code></pre> <p>After running, you will be able to see a local web link/url in the terminal. Simply open the link/url in your browser and you will be able to see the visualisations.</p>"},{"location":"visualisation-tool/pypsa-spice-vis/#what-charts-are-displayed-in-the-tool-by-default","title":"What charts are displayed in the tool by default","text":"<p>The available charts and sections are listed in List of charts and sections which you will be able to see all of them in the browser if your model include all sectors (power+industry+transport).</p>"},{"location":"visualisation-tool/pypsa-spice-vis/#deploy-your-visualistaion-results-to-the-web","title":"Deploy your visualistaion results to the web","text":"<p>You can review the visualisation in the localhost or deploy them into the webpage. More details are described in deployment</p>"},{"location":"visualisation-tool/vis-sections-and-charts/","title":"List of charts and sections","text":""},{"location":"visualisation-tool/vis-sections-and-charts/#list-of-available-sections-and-charts","title":"List of available sections and charts","text":"<p>The list of sections and available charts can be adjusted by <code>pypsa-spice-vis/setting/graph_settings.yaml</code> including maximum and minimum scales of the y-axis, units of the y-axis, etc.</p>"},{"location":"visualisation-tool/vis-sections-and-charts/#power","title":"Power","text":"Chart name Unit Description Capacity by type GW Installed capacity in the power sector by technology by modelling year Capacity by region GW Installed capacity in the power sector by region by modelling year Generation by type TWh Power Generation by technology by modelling year Share category % Power Generation share by renewables &amp; fossil fuels by modelling year Transmission capacity between regions GW Capacity of transmission lines between different regions by modelling year Hourly generation MW Hourly electricity generation by technology by modelling year Regional hourly generation MW Hourly electricity generation by region by modelling year Energy demand by carrier TWh Energy demand by carrier by modelling year Hourly demand MW Hourly electricity demand by sector by modelling year Hourly elec price currency/MWh Hourly marginal electricity price by region by modelling year Hourly nodal flow between regions MW Hourly nodal exchange flow between regions by modelling year Battery's E/P ratio N/A Hourly Energy-to-Power ratio of batteries by modelling year Battery's charging profile GW Hourly charing/discharing status of batteries by modelling year"},{"location":"visualisation-tool/vis-sections-and-charts/#industry","title":"Industry","text":"Chart name Unit Description Capacity by carrier GW Installed capacity in the industry sector by technology by carrier by modelling year Capacity by region GW Installed capacity in the industry sector by region by modelling year Generation by region TWh Electricity generation used for industrial heat applications by region by modelling year Generation by type TWh Electricity generation used for industrial heat applications by technology by modelling year"},{"location":"visualisation-tool/vis-sections-and-charts/#transport","title":"Transport","text":"Chart name Unit Description EV load profile MW Hourly charging load of electric vehicles in the tranport sector by modelling year"},{"location":"visualisation-tool/vis-sections-and-charts/#emissions","title":"Emissions","text":"Chart name Unit Description Emission (power sector) MtCO<sub>2</sub> Emission in the power sector by carrier by modelling year Emission (industry sector) MtCO<sub>2</sub> Emission in the industry sector by carrier by modelling year"},{"location":"visualisation-tool/vis-sections-and-charts/#costs","title":"Costs","text":"Chart name Unit Description CAPEX by type (power sector) million currency Capital Expenditure (CAPEX) in the power sector by technology by modelling year Overnight investment by type (power sector) million currency Overnight investment in the power sector by technology by modelling year CAPEX by type (industry sector) million currency Capital Expenditure (CAPEX) in the industry sector by technology by modelling year CAPEX by type (transport sector) million currency Capital Expenditure (CAPEX) in the transport sector by technology by modelling year CAPEX by type (all energy sectors) million currency Capital Expenditure (CAPEX) in all sectors by technology by modelling year CAPEX and OPEX (all energy sectors) million currency Capital Expenditure (CAPEX) and Operational Expenditure in all sectors by modelling year Average fuel costs (all energy sectors) million currency/MWh<sub>thermal</sub> Average fuel costs (thermal units) in all sectors by modelling year"},{"location":"visualisation-tool/vis-sections-and-charts/#info","title":"Info","text":"<p>This section provides a list of all abbreviations and corresponding full names of all technologies and carriers that are used in the visualisation tool.</p>"}]}